%!PS-Adobe-3.0
%%Title: rfc4791.txt
%%For: Thomas Cataldo
%%Creator: a2ps version 4.14
%%CreationDate: Mon Apr  6 14:15:31 2009
%%BoundingBox: 24 24 588 768
%%DocumentData: Clean7Bit
%%Orientation: Landscape
%%Pages: 54
%%PageOrder: Ascend
%%DocumentMedia: Letter 612 792 0 () ()
%%DocumentNeededResources: font Courier
%%+ font Courier-Bold
%%+ font Courier-BoldOblique
%%+ font Courier-Oblique
%%+ font Helvetica
%%+ font Helvetica-Bold
%%+ font Symbol
%%+ font Times-Bold
%%+ font Times-Roman
%%DocumentProcessColors: Black 
%%DocumentSuppliedResources: procset a2ps-a2ps-hdr
%%+ procset a2ps-black+white-Prolog
%%+ encoding ISO-8859-1Encoding
%%EndComments
/a2psdict 200 dict def
a2psdict begin
%%BeginProlog
%%Copyright: (c) 1988, 89, 90, 91, 92, 93 Miguel Santana
%%Copyright: (c) 1995, 96, 97, 98 Akim Demaille, Miguel Santana
% Check PostScript language level.
/languagelevel where {
  pop /gs_languagelevel languagelevel def
} {
  /gs_languagelevel 1 def
} ifelse

% EPSF import as in the Red Book
/BeginInclude {
  /b4_Inc_state save def    		% Save state for cleanup
  /dict_count countdictstack def	% Count objects on dict stack
  /op_count count 1 sub def		% Count objects on operand stack 
  userdict begin
    0 setgray 0 setlinecap
    1 setlinewidth 0 setlinejoin
    10 setmiterlimit [ ] 0 setdash newpath
    gs_languagelevel 1 ne {
      false setstrokeadjust false setoverprint 
    } if
} bind def

/EndInclude {
  count op_count sub { pos } repeat	% Clean up stacks
  countdictstack dict_count sub { end } repeat
  b4_Inc_state restore
} bind def

/BeginEPSF {
  BeginInclude
  /showpage { } def
} bind def

/EndEPSF {
  EndInclude
} bind def

% Page prefeed
/page_prefeed {         % bool -> -
  statusdict /prefeed known {
    statusdict exch /prefeed exch put
  } {
    pop
  } ifelse
} bind def

/deffont {
  findfont exch scalefont def
} bind def

/reencode_font {
  findfont reencode 2 copy definefont pop def
} bind def

% Function c-show (str => -)
% centers text only according to x axis.
/c-show { 
  dup stringwidth pop
  2 div neg 0 rmoveto
  show
} bind def

% Function l-show (str => -)
% prints texts so that it ends at currentpoint
/l-show {
  dup stringwidth pop neg 
  0 
  rmoveto show
} bind def

% center-fit show (str w => -)
% show centered, and scale currentfont so that the width is less than w
/cfshow {
  exch dup stringwidth pop
  % If the title is too big, try to make it smaller
  3 2 roll 2 copy
  gt
  { % if, i.e. too big
    exch div
    currentfont exch scalefont setfont
  } { % ifelse
    pop pop 
  }
  ifelse
  c-show			% center title
} bind def

% Return the y size of the current font
% - => fontsize
/currentfontsize {
  currentfont /FontType get 0 eq {
    currentfont /FontMatrix get 3 get
  }{
    currentfont /FontMatrix get 3 get 1000 mul
  } ifelse
} bind def

% reencode the font
% <encoding-vector> <fontdict> -> <newfontdict>
/reencode { %def
  dup length 5 add dict begin
    { %forall
      % <vector> <key> <val>
      1 index /FID ne 
      { def }{ pop pop } ifelse
    } forall
    /Encoding exch def % -

    % Use the font's bounding box to determine the ascent, descent,
    % and overall height; don't forget that these values have to be
    % transformed using the font's matrix.
    % We use `load' because sometimes BBox is executable, sometimes not.
    % Since we need 4 numbers an not an array avoid BBox from being executed
    /FontBBox load aload pop
    FontMatrix transform /Ascent exch def pop
    FontMatrix transform /Descent exch def pop
    /FontHeight Ascent Descent sub def

    % Get the underline position and thickness if they're defined.
    % Use 1 if they are not defined.
    currentdict /FontInfo 2 copy known
    { get
      /UnderlinePosition 2 copy % <FontInfo> /UP <FontInfo> /UP
      2 copy known
      { get }{ pop pop 1 } ifelse
      0 exch FontMatrix transform exch pop
      def % <FontInfo>

      /UnderlineThickness 2 copy % <FontInfo> /UT <FontInfo> /UT
      2 copy known
      { get }{ pop pop 1 } ifelse
      0 exch FontMatrix transform exch pop
      def % <FontInfo>
      pop % -
    }{ pop pop
    } ifelse

    currentdict
  end 
} bind def

% composite fonts for ASCII-EUC mixed strings
% Version 1.2 1/31/1990
% Original Ken'ichi HANDA (handa@etl.go.jp)
% Modified Norio Katayama (katayama@rd.nacsis.ac.jp),1998
% Extend & Fix Koji Nakamaru (maru@on.cs.keio.ac.jp), 1999
% Anyone can freely copy, modify, distribute this program.

/copyfont {	% font-dic extra-entry-count  copyfont  font-dic
	1 index maxlength add dict begin
	{	1 index /FID ne 2 index /UniqueID ne and
		{def} {pop pop} ifelse
	} forall
	currentdict
	end
} bind def

/compositefont { % ASCIIFontName EUCFontName RomanScale RomanOffset Rot(T/F) compositefont font
    /RomanRotation exch def
    /RomanOffset exch def
    /RomanScale exch def
    userdict /fixeucfont_dict known not {
	userdict begin
	    /fixeucfont_dict 2 dict begin
		/UpperByteEncoding [
		    16#00 1 16#20 { pop 0 } for
		    16#21 1 16#28 { 16#20 sub } for
		    16#29 1 16#2F { pop 0 } for
		    16#30 1 16#74 { 16#27 sub } for
		    16#75 1 16#FF { pop 0 } for
		] def
	        /LowerByteEncoding [
		    16#00 1 16#A0 { pop /.notdef } for
		    16#A1 1 16#FE { 16#80 sub 16 2 string cvrs
				    (cXX) dup 1 4 -1 roll
				    putinterval cvn } for
		    /.notdef
		] def
		currentdict
	    end def
	end
    } if
    findfont dup /FontType get 0 eq {
	14 dict begin
	    %
	    % 7+8 bit EUC font
	    %
	    12 dict begin
		/EUCFont exch def
		/FontInfo (7+8 bit EUC font) readonly def
		/PaintType 0 def
		/FontType 0 def
		/FontMatrix matrix def
		% /FontName
		/Encoding fixeucfont_dict /UpperByteEncoding get def
		/FMapType 2 def
		EUCFont /WMode known
		{ EUCFont /WMode get /WMode exch def }
		{ /WMode 0 def } ifelse
		/FDepVector [
		    EUCFont /FDepVector get 0 get
		    [ 16#21 1 16#28 {} for 16#30 1 16#74 {} for ]
		    {
			13 dict begin
			    /EUCFont EUCFont def
			    /UpperByte exch 16#80 add def	
			    % /FontName
			    /FontInfo (EUC lower byte font) readonly def
			    /PaintType 0 def
			    /FontType 3 def
			    /FontMatrix matrix def
			    /FontBBox {0 0 0 0} def
			    /Encoding
				fixeucfont_dict /LowerByteEncoding get def
			    % /UniqueID
			    % /WMode
			    /BuildChar {
				gsave
				exch dup /EUCFont get setfont
				/UpperByte get
				2 string
				dup 0 4 -1 roll put
				dup 1 4 -1 roll put
				dup stringwidth setcharwidth
				0 0 moveto show
				grestore
			    } bind def
			    currentdict
			end
			/lowerbytefont exch definefont
		    } forall
		] def
		currentdict
	    end
	    /eucfont exch definefont
	    exch
	    findfont 1 copyfont dup begin
		RomanRotation {
			/FontMatrix FontMatrix
			[ 0 RomanScale neg RomanScale 0 RomanOffset neg 0 ]
			matrix concatmatrix def
		}{
			/FontMatrix FontMatrix
			[ RomanScale 0 0 RomanScale 0 RomanOffset ] matrix concatmatrix
			def
			/CDevProc
			    {pop pop pop pop 0 exch -1000 exch 2 div 880} def
		} ifelse
	    end
	    /asciifont exch definefont
	    exch
	    /FDepVector [ 4 2 roll ] def
	    /FontType 0 def
	    /WMode 0 def
	    /FMapType 4 def
	    /FontMatrix matrix def
	    /Encoding [0 1] def
	    /FontBBox {0 0 0 0} def
%	    /FontHeight 1.0 def % XXXX
	    /FontHeight RomanScale 1.0 ge { RomanScale }{ 1.0 } ifelse def
	    /Descent -0.3 def   % XXXX
	    currentdict
	end
	/tmpfont exch definefont
	pop
	/tmpfont findfont
    }{
	pop findfont 0 copyfont
    } ifelse
} def	

/slantfont {	% FontName slant-degree  slantfont  font'
    exch findfont 1 copyfont begin
    [ 1 0 4 -1 roll 1 0 0 ] FontMatrix exch matrix concatmatrix
    /FontMatrix exch def
    currentdict
    end
} def

% Function print line number (<string> # -)
/# {
  gsave
    sx cw mul neg 2 div 0 rmoveto
    f# setfont
    c-show
  grestore
} bind def

% -------- Some routines to enlight plain b/w printings ---------

% Underline
% width --
/dounderline {
  currentpoint
  gsave
    moveto
    0 currentfont /Descent get currentfontsize mul rmoveto
    0 rlineto
    stroke
  grestore
} bind def

% Underline a string
% string --
/dounderlinestring {
  stringwidth pop
  dounderline
} bind def

/UL {
  /ul exch store
} bind def

% Draw a box of WIDTH wrt current font
% width --
/dobox {
  currentpoint
  gsave
    newpath
    moveto
    0 currentfont /Descent get currentfontsize mul rmoveto
    dup 0 rlineto
    0 currentfont /FontHeight get currentfontsize mul rlineto
    neg 0 rlineto
    closepath
    stroke
  grestore
} bind def

/BX {
  /bx exch store
} bind def

% Box a string
% string --
/doboxstring {
  stringwidth pop
  dobox
} bind def

%
% ------------- Color routines ---------------
%
/FG /setrgbcolor load def

% Draw the background
% width --
/dobackground {
  currentpoint
  gsave
    newpath
    moveto
    0 currentfont /Descent get currentfontsize mul rmoveto
    dup 0 rlineto
    0 currentfont /FontHeight get currentfontsize mul rlineto
    neg 0 rlineto
    closepath
    bgcolor aload pop setrgbcolor
    fill
  grestore
} bind def

% Draw bg for a string
% string --
/dobackgroundstring {
  stringwidth pop
  dobackground
} bind def


/BG {
  dup /bg exch store
  { mark 4 1 roll ] /bgcolor exch store } if
} bind def


/Show {
  bg { dup dobackgroundstring } if
  ul { dup dounderlinestring } if
  bx { dup doboxstring } if
  show
} bind def

% Function T(ab), jumps to the n-th tabulation in the current line
/T {
  cw mul x0 add
  bg { dup currentpoint pop sub dobackground } if
  ul { dup currentpoint pop sub dounderline } if
  bx { dup currentpoint pop sub dobox } if
  y0 moveto
} bind def

% Function n: move to the next line
/n {
  /y0 y0 bfs sub store
  x0 y0 moveto
} bind def

% Function N: show and move to the next line
/N {
  Show
  /y0 y0 bfs sub store
  x0 y0 moveto
} bind def

/S {
  Show
} bind def

%%BeginResource: procset a2ps-a2ps-hdr 2.0 2
%%Copyright: (c) 1988, 89, 90, 91, 92, 93 Miguel Santana
%%Copyright: (c) 1995, 96, 97, 98 Akim Demaille, Miguel Santana
% Function title: prints page header.
% <ct> <rt> <lt> are passed as argument
/title { 
  % 1. Draw the background
  x v get y v get moveto
  gsave
    0 th 2 div neg rmoveto 
    th setlinewidth
    0.95 setgray
    pw 0 rlineto stroke
  grestore
  % 2. Border it
  gsave
    0.7 setlinewidth
    pw 0 rlineto
    0 th neg rlineto
    pw neg 0 rlineto
    closepath stroke
  grestore
  % stk: ct rt lt
  x v get y v get th sub 1 add moveto
%%IncludeResource: font Helvetica
  fHelvetica fnfs 0.8 mul scalefont setfont
  % 3. The left title
  gsave
    dup stringwidth pop fnfs 0.8 mul add exch % leave space took on stack
    fnfs 0.8 mul hm rmoveto
    show			% left title
  grestore
  exch
  % stk: ct ltw rt
  % 4. the right title
  gsave
    dup stringwidth pop fnfs 0.8 mul add exch % leave space took on stack
    dup
    pw exch stringwidth pop fnfs 0.8 mul add sub
    hm
    rmoveto
    show			% right title
  grestore
  % stk: ct ltw rtw
  % 5. the center title
  gsave
    pw 3 1 roll
    % stk: ct pw ltw rtw
    3 copy 
    % Move to the center of the left room
    sub add 2 div hm rmoveto
    % What is the available space in here?
    add sub fnfs 0.8 mul sub fnfs 0.8 mul sub
    % stk: ct space_left
%%IncludeResource: font Helvetica-Bold
  fHelvetica-Bold fnfs scalefont setfont
    cfshow
  grestore
} bind def

% Function border: prints virtual page border
/border { %def
  gsave				% print four sides
    0 setgray
    x v get y v get moveto
    0.7 setlinewidth		% of the square
    pw 0 rlineto
    0 ph neg rlineto
    pw neg 0 rlineto
    closepath stroke
  grestore
} bind def

% Function water: prints a water mark in background
/water { %def
  gsave
    scx scy moveto rotate
%%IncludeResource: font Times-Bold
  fTimes-Bold 100 scalefont setfont
    .97 setgray
    dup stringwidth pop 2 div neg -50 rmoveto
    show
  grestore
} bind def

% Function rhead: prints the right header
/rhead {  %def
  lx ly moveto
  fHelvetica fnfs 0.8 mul scalefont setfont
  l-show
} bind def

% Function footer (cf rf lf -> -)
/footer {
  fHelvetica fnfs 0.8 mul scalefont setfont
  dx dy moveto
  show

  snx sny moveto
  l-show
  
  fnx fny moveto
  c-show
} bind def
%%EndResource
%%BeginResource: procset a2ps-black+white-Prolog 2.0 1

% Function T(ab), jumps to the n-th tabulation in the current line
/T { 
  cw mul x0 add y0 moveto
} bind def

% Function n: move to the next line
/n { %def
  /y0 y0 bfs sub store
  x0 y0 moveto
} bind def

% Function N: show and move to the next line
/N {
  Show
  /y0 y0 bfs sub store
  x0 y0 moveto
}  bind def

/S {
  Show
} bind def

/p {
  false UL
  false BX
  fCourier bfs scalefont setfont
  Show
} bind def

/sy {
  false UL
  false BX
  fSymbol bfs scalefont setfont
  Show
} bind def

/k {
  false UL
  false BX
  fCourier-Oblique bfs scalefont setfont
  Show
} bind def

/K {
  false UL
  false BX
  fCourier-Bold bfs scalefont setfont
  Show
} bind def

/c {
  false UL
  false BX
  fCourier-Oblique bfs scalefont setfont
  Show
} bind def

/C {
  false UL
  false BX
  fCourier-BoldOblique bfs scalefont setfont
  Show 
} bind def

/l {
  false UL
  false BX
  fHelvetica bfs scalefont setfont
  Show
} bind def

/L {
  false UL
  false BX
  fHelvetica-Bold bfs scalefont setfont
  Show 
} bind def

/str{
  false UL
  false BX
  fTimes-Roman bfs scalefont setfont
  Show
} bind def

/e{
  false UL
  true BX
  fHelvetica-Bold bfs scalefont setfont
  Show
} bind def

%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeResource: font Courier
%%IncludeResource: font Courier-Oblique
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Symbol
%%IncludeResource: font Courier-BoldOblique
%%BeginResource: encoding ISO-8859-1Encoding
/ISO-8859-1Encoding [
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/space /exclam /quotedbl /numbersign /dollar /percent /ampersand /quoteright 
/parenleft /parenright /asterisk /plus /comma /minus /period /slash 
/zero /one /two /three /four /five /six /seven 
/eight /nine /colon /semicolon /less /equal /greater /question 
/at /A /B /C /D /E /F /G 
/H /I /J /K /L /M /N /O 
/P /Q /R /S /T /U /V /W 
/X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore 
/quoteleft /a /b /c /d /e /f /g 
/h /i /j /k /l /m /n /o 
/p /q /r /s /t /u /v /w 
/x /y /z /braceleft /bar /braceright /asciitilde /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef /.notdef 
/space /exclamdown /cent /sterling /currency /yen /brokenbar /section 
/dieresis /copyright /ordfeminine /guillemotleft /logicalnot /hyphen /registered /macron 
/degree /plusminus /twosuperior /threesuperior /acute /mu /paragraph /bullet 
/cedilla /onesuperior /ordmasculine /guillemotright /onequarter /onehalf /threequarters /questiondown 
/Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla 
/Egrave /Eacute /Ecircumflex /Edieresis /Igrave /Iacute /Icircumflex /Idieresis 
/Eth /Ntilde /Ograve /Oacute /Ocircumflex /Otilde /Odieresis /multiply 
/Oslash /Ugrave /Uacute /Ucircumflex /Udieresis /Yacute /Thorn /germandbls 
/agrave /aacute /acircumflex /atilde /adieresis /aring /ae /ccedilla 
/egrave /eacute /ecircumflex /edieresis /igrave /iacute /icircumflex /idieresis 
/eth /ntilde /ograve /oacute /ocircumflex /otilde /odieresis /divide 
/oslash /ugrave /uacute /ucircumflex /udieresis /yacute /thorn /ydieresis 
] def
%%EndResource
% Initialize page description variables.
/sh 612 def
/sw 792 def
/llx 24 def
/urx 768 def
/ury 588 def
/lly 24 def
/#copies 1 def
/th 15.000000 def
/fnfs 11 def
/bfs 7.493857 def
/cw 4.496314 def

% Dictionary for ISO-8859-1 support
/iso1dict 8 dict begin
  /fCourier ISO-8859-1Encoding /Courier reencode_font
  /fCourier-Bold ISO-8859-1Encoding /Courier-Bold reencode_font
  /fCourier-BoldOblique ISO-8859-1Encoding /Courier-BoldOblique reencode_font
  /fCourier-Oblique ISO-8859-1Encoding /Courier-Oblique reencode_font
  /fHelvetica ISO-8859-1Encoding /Helvetica reencode_font
  /fHelvetica-Bold ISO-8859-1Encoding /Helvetica-Bold reencode_font
  /fTimes-Bold ISO-8859-1Encoding /Times-Bold reencode_font
  /fTimes-Roman ISO-8859-1Encoding /Times-Roman reencode_font
currentdict end def
/bgcolor [ 0 0 0 ] def
/bg false def
/ul false def
/bx false def
% The font for line numbering
/f# /Helvetica findfont bfs .6 mul scalefont def
/fSymbol /Symbol findfont def
/hm fnfs 0.25 mul def
/pw
   cw 81.400000 mul
def
/ph
   522.321860 th add
def
/pmw urx llx sub pw 2 mul sub 1 div def
/pmh 0 def
/v 0 def
/x [
  0
  dup pmw add pw add
] def
/y [
  pmh ph add 0 mul ph add
  dup
] def
/scx sw 2 div def
/scy sh 2 div def
/snx urx def
/sny lly 2 add def
/dx llx def
/dy sny def
/fnx scx def
/fny dy def
/lx snx def
/ly ury fnfs 0.8 mul sub def
/sx 0 def
/tab 8 def
/x0 0 def
/y0 0 def
%%EndSetup

%%Page: (1-2) 1
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
() p n
() N
() N
() N
() N
() N
(Network Working Group                                           C. Daboo) N
(Request for Comments: 4791                                         Apple) N
(Category: Standards Track                                B. Desruisseaux) N
(                                                                  Oracle) N
(                                                            L. Dusseault) N
(                                                             CommerceNet) N
(                                                              March 2007) N
() N
() N
(               Calendaring Extensions to WebDAV \(CalDAV\)) N
() N
(Status of This Memo) N
() N
(   This document specifies an Internet standards track protocol for the) N
(   Internet community, and requests discussion and suggestions for) N
(   improvements.  Please refer to the current edition of the "Internet) N
(   Official Protocol Standards" \(STD 1\) for the standardization state) N
(   and status of this protocol.  Distribution of this memo is unlimited.) N
() N
(Copyright Notice) N
() N
(   Copyright \(C\) The IETF Trust \(2007\).) N
() N
(Abstract) N
() N
(   This document defines extensions to the Web Distributed Authoring and) N
(   Versioning \(WebDAV\) protocol to specify a standard way of accessing,) N
(   managing, and sharing calendaring and scheduling information based on) N
(   the iCalendar format.  This document defines the "calendar-access") N
(   feature of CalDAV.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 1]) N
() N
(rfc4791.txt) (Page 1/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(Table of Contents) N
() N
(   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  5) N
(     1.1.  Notational Conventions . . . . . . . . . . . . . . . . . .  5) N
(     1.2.  XML Namespaces and Processing  . . . . . . . . . . . . . .  5) N
(     1.3.  Method Preconditions and Postconditions  . . . . . . . . .  6) N
(   2.  Requirements Overview  . . . . . . . . . . . . . . . . . . . .  6) N
(   3.  Calendaring Data Model . . . . . . . . . . . . . . . . . . . .  7) N
(     3.1.  Calendar Server  . . . . . . . . . . . . . . . . . . . . .  7) N
(     3.2.  Recurrence and the Data Model  . . . . . . . . . . . . . .  8) N
(   4.  Calendar Resources . . . . . . . . . . . . . . . . . . . . . .  9) N
(     4.1.  Calendar Object Resources  . . . . . . . . . . . . . . . .  9) N
(     4.2.  Calendar Collection  . . . . . . . . . . . . . . . . . . . 10) N
(   5.  Calendar Access Feature  . . . . . . . . . . . . . . . . . . . 11) N
(     5.1.  Calendar Access Support  . . . . . . . . . . . . . . . . . 11) N
(       5.1.1.  Example: Using OPTIONS for the Discovery of) N
(               Calendar Access Support  . . . . . . . . . . . . . . . 12) N
(     5.2.  Calendar Collection Properties . . . . . . . . . . . . . . 12) N
(       5.2.1.  CALDAV:calendar-description Property . . . . . . . . . 12) N
(       5.2.2.  CALDAV:calendar-timezone Property  . . . . . . . . . . 13) N
(       5.2.3.  CALDAV:supported-calendar-component-set Property . . . 14) N
(       5.2.4.  CALDAV:supported-calendar-data Property  . . . . . . . 15) N
(       5.2.5.  CALDAV:max-resource-size Property  . . . . . . . . . . 16) N
(       5.2.6.  CALDAV:min-date-time Property  . . . . . . . . . . . . 17) N
(       5.2.7.  CALDAV:max-date-time Property  . . . . . . . . . . . . 18) N
(       5.2.8.  CALDAV:max-instances Property  . . . . . . . . . . . . 19) N
(       5.2.9.  CALDAV:max-attendees-per-instance Property . . . . . . 19) N
(       5.2.10. Additional Precondition for PROPPATCH  . . . . . . . . 20) N
(     5.3.  Creating Resources . . . . . . . . . . . . . . . . . . . . 20) N
(       5.3.1.  MKCALENDAR Method  . . . . . . . . . . . . . . . . . . 20) N
(         5.3.1.1.  Status Codes . . . . . . . . . . . . . . . . . . . 22) N
(         5.3.1.2.  Example: Successful MKCALENDAR Request . . . . . . 23) N
(       5.3.2.  Creating Calendar Object Resources . . . . . . . . . . 25) N
(         5.3.2.1.  Additional Preconditions for PUT, COPY, and) N
(                   MOVE . . . . . . . . . . . . . . . . . . . . . . . 26) N
(       5.3.3.  Non-Standard Components, Properties, and Parameters  . 28) N
(       5.3.4.  Calendar Object Resource Entity Tag  . . . . . . . . . 28) N
(   6.  Calendaring Access Control . . . . . . . . . . . . . . . . . . 29) N
(     6.1.  Calendaring Privilege  . . . . . . . . . . . . . . . . . . 29) N
(       6.1.1.  CALDAV:read-free-busy Privilege  . . . . . . . . . . . 29) N
(     6.2.  Additional Principal Property  . . . . . . . . . . . . . . 30) N
(       6.2.1.  CALDAV:calendar-home-set Property  . . . . . . . . . . 30) N
(   7.  Calendaring Reports  . . . . . . . . . . . . . . . . . . . . . 31) N
(     7.1.  REPORT Method  . . . . . . . . . . . . . . . . . . . . . . 31) N
(     7.2.  Ordinary Collections . . . . . . . . . . . . . . . . . . . 31) N
(     7.3.  Date and Floating Time . . . . . . . . . . . . . . . . . . 32) N
(     7.4.  Time Range Filtering . . . . . . . . . . . . . . . . . . . 32) N
(     7.5.  Searching Text: Collations . . . . . . . . . . . . . . . . 33) N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 2]) N
() N
(rfc4791.txt) (Page 2/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (1/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (3-4) 2
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(       7.5.1.  CALDAV:supported-collation-set Property  . . . . . . . 34) N
(     7.6.  Partial Retrieval  . . . . . . . . . . . . . . . . . . . . 34) N
(     7.7.  Non-Standard Components, Properties, and Parameters  . . . 35) N
(     7.8.  CALDAV:calendar-query REPORT . . . . . . . . . . . . . . . 36) N
(       7.8.1.  Example: Partial Retrieval of Events by Time Range . . 38) N
(       7.8.2.  Example: Partial Retrieval of Recurring Events . . . . 42) N
(       7.8.3.  Example: Expanded Retrieval of Recurring Events  . . . 45) N
(       7.8.4.  Example: Partial Retrieval of Stored Free Busy) N
(               Components . . . . . . . . . . . . . . . . . . . . . . 48) N
(       7.8.5.  Example: Retrieval of To-Dos by Alarm Time Range . . . 50) N
(       7.8.6.  Example: Retrieval of Event by UID . . . . . . . . . . 51) N
(       7.8.7.  Example: Retrieval of Events by PARTSTAT . . . . . . . 53) N
(       7.8.8.  Example: Retrieval of Events Only  . . . . . . . . . . 55) N
(       7.8.9.  Example: Retrieval of All Pending To-Dos . . . . . . . 59) N
(       7.8.10. Example: Attempt to Query Unsupported Property . . . . 62) N
(     7.9.  CALDAV:calendar-multiget REPORT  . . . . . . . . . . . . . 63) N
(       7.9.1.  Example: Successful CALDAV:calendar-multiget REPORT  . 64) N
(     7.10. CALDAV:free-busy-query REPORT  . . . . . . . . . . . . . . 66) N
(       7.10.1. Example: Successful CALDAV:free-busy-query REPORT  . . 68) N
(   8.  Guidelines . . . . . . . . . . . . . . . . . . . . . . . . . . 69) N
(     8.1.  Client-to-Client Interoperability  . . . . . . . . . . . . 69) N
(     8.2.  Synchronization Operations . . . . . . . . . . . . . . . . 69) N
(       8.2.1.  Use of Reports . . . . . . . . . . . . . . . . . . . . 69) N
(         8.2.1.1.  Restrict the Time Range  . . . . . . . . . . . . . 69) N
(         8.2.1.2.  Synchronize by Time Range  . . . . . . . . . . . . 70) N
(         8.2.1.3.  Synchronization Process  . . . . . . . . . . . . . 70) N
(       8.2.2.  Restrict the Properties Returned . . . . . . . . . . . 72) N
(     8.3.  Use of Locking . . . . . . . . . . . . . . . . . . . . . . 72) N
(     8.4.  Finding Calendars  . . . . . . . . . . . . . . . . . . . . 72) N
(     8.5.  Storing and Using Attachments  . . . . . . . . . . . . . . 74) N
(       8.5.1.  Inline Attachments . . . . . . . . . . . . . . . . . . 74) N
(       8.5.2.  External Attachments . . . . . . . . . . . . . . . . . 75) N
(     8.6.  Storing and Using Alarms . . . . . . . . . . . . . . . . . 76) N
(   9.  XML Element Definitions  . . . . . . . . . . . . . . . . . . . 77) N
(     9.1.  CALDAV:calendar XML Element  . . . . . . . . . . . . . . . 77) N
(     9.2.  CALDAV:mkcalendar XML Element  . . . . . . . . . . . . . . 77) N
(     9.3.  CALDAV:mkcalendar-response XML Element . . . . . . . . . . 78) N
(     9.4.  CALDAV:supported-collation XML Element . . . . . . . . . . 78) N
(     9.5.  CALDAV:calendar-query XML Element  . . . . . . . . . . . . 78) N
(     9.6.  CALDAV:calendar-data XML Element . . . . . . . . . . . . . 79) N
(       9.6.1.  CALDAV:comp XML Element  . . . . . . . . . . . . . . . 80) N
(       9.6.2.  CALDAV:allcomp XML Element . . . . . . . . . . . . . . 81) N
(       9.6.3.  CALDAV:allprop XML Element . . . . . . . . . . . . . . 81) N
(       9.6.4.  CALDAV:prop XML Element  . . . . . . . . . . . . . . . 82) N
(       9.6.5.  CALDAV:expand XML Element  . . . . . . . . . . . . . . 82) N
(       9.6.6.  CALDAV:limit-recurrence-set XML Element  . . . . . . . 83) N
(       9.6.7.  CALDAV:limit-freebusy-set XML Element  . . . . . . . . 84) N
(     9.7.  CALDAV:filter XML Element  . . . . . . . . . . . . . . . . 85) N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 3]) N
() N
(rfc4791.txt) (Page 3/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(       9.7.1.  CALDAV:comp-filter XML Element . . . . . . . . . . . . 85) N
(       9.7.2.  CALDAV:prop-filter XML Element . . . . . . . . . . . . 86) N
(       9.7.3.  CALDAV:param-filter XML Element  . . . . . . . . . . . 87) N
(       9.7.4.  CALDAV:is-not-defined XML Element  . . . . . . . . . . 88) N
(       9.7.5.  CALDAV:text-match XML Element  . . . . . . . . . . . . 88) N
(     9.8.  CALDAV:timezone XML Element  . . . . . . . . . . . . . . . 89) N
(     9.9.  CALDAV:time-range XML Element  . . . . . . . . . . . . . . 90) N
(     9.10. CALDAV:calendar-multiget XML Element . . . . . . . . . . . 94) N
(     9.11. CALDAV:free-busy-query XML Element . . . . . . . . . . . . 95) N
(   10. Internationalization Considerations  . . . . . . . . . . . . . 95) N
(   11. Security Considerations  . . . . . . . . . . . . . . . . . . . 95) N
(   12. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 96) N
(     12.1. Namespace Registration . . . . . . . . . . . . . . . . . . 96) N
(   13. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 96) N
(   14. References . . . . . . . . . . . . . . . . . . . . . . . . . . 97) N
(     14.1. Normative References . . . . . . . . . . . . . . . . . . . 97) N
(     14.2. Informative References . . . . . . . . . . . . . . . . . . 98) N
(   Appendix A.  CalDAV Method Privilege Table \(Normative\) . . . . . . 99) N
(   Appendix B.  Calendar Collections Used in the Examples . . . . . . 99) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 4]) N
() N
(rfc4791.txt) (Page 4/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (2/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (5-6) 3
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(1.  Introduction) N
() N
(   The concept of using HTTP [RFC2616] and WebDAV [RFC2518] as a basis) N
(   for a calendar access protocol is by no means a new concept: it was) N
(   discussed in the IETF CALSCH working group as early as 1997 or 1998.) N
(   Several companies have implemented calendar access protocols using) N
(   HTTP to upload and download iCalendar [RFC2445] objects, and using) N
(   WebDAV to get listings of resources.  However, those implementations) N
(   do not interoperate because there are many small and big decisions to) N
(   be made in how to model calendaring data as WebDAV resources, as well) N
(   as how to implement required features that aren't already part of) N
(   WebDAV.  This document proposes a way to model calendar data in) N
(   WebDAV, with additional features to make an interoperable calendar) N
(   access protocol.) N
() N
(1.1.  Notational Conventions) N
() N
(   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",) N
(   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this) N
(   document are to be interpreted as described in [RFC2119].) N
() N
(   The term "protected" is used in the Conformance field of property) N
(   definitions as defined in Section 1.4.2 of [RFC3253].) N
() N
(   When XML element types in the namespaces "DAV:" and) N
(   "urn:ietf:params:xml:ns:caldav" are referenced in this document) N
(   outside of the context of an XML fragment, the string "DAV:" and) N
(   "CALDAV:" will be prefixed to the element type names, respectively.) N
() N
(1.2.  XML Namespaces and Processing) N
() N
(   Definitions of XML elements in this document use XML element type) N
(   declarations \(as found in XML Document Type Declarations\), described) N
(   in Section 3.2 of [W3C.REC-xml-20060816].) N
() N
(   The namespace "urn:ietf:params:xml:ns:caldav" is reserved for the XML) N
(   elements defined in this specification, its revisions, and related) N
(   CalDAV specifications.  XML elements defined by individual) N
(   implementations MUST NOT use the "urn:ietf:params:xml:ns:caldav") N
(   namespace, and instead should use a namespace that they control.) N
() N
(   The XML declarations used in this document do not include namespace) N
(   information.  Thus, implementers must not use these declarations as) N
(   the only way to create valid CalDAV properties or to validate CalDAV) N
(   XML element types.  Some of the declarations refer to XML elements) N
(   defined by WebDAV [RFC2518], which use the "DAV:" namespace.) N
(   Wherever such XML elements appear, they are explicitly prefixed with) N
(   "DAV:" to avoid confusion.) N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 5]) N
() N
(rfc4791.txt) (Page 5/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Also note that some CalDAV XML element names are identical to WebDAV) N
(   XML element names, though their namespace differs.  Care must be) N
(   taken not to confuse the two sets of names.) N
() N
(   Processing of XML by CalDAV clients and servers MUST follow the rules) N
(   described in [RFC2518]; in particular, Section 14, and Appendix 3 of) N
(   that specification.) N
() N
(1.3.  Method Preconditions and Postconditions) N
() N
(   A "precondition" of a method describes the state of the server that) N
(   must be true for that method to be performed.  A "postcondition" of a) N
(   method describes the state of the server that must be true after that) N
(   method has been completed.  If a method precondition or postcondition) N
(   for a request is not satisfied, the response status of the request) N
(   MUST either be 403 \(Forbidden\), if the request should not be repeated) N
(   because it will always fail, or 409 \(Conflict\), if it is expected) N
(   that the user might be able to resolve the conflict and resubmit the) N
(   request.) N
() N
(   In order to allow better client handling of 403 and 409 responses, a) N
(   distinct XML element type is associated with each method precondition) N
(   and postcondition of a request.  When a particular precondition is) N
(   not satisfied or a particular postcondition cannot be achieved, the) N
(   appropriate XML element MUST be returned as the child of a top-level) N
(   DAV:error element in the response body, unless otherwise negotiated) N
(   by the request.) N
() N
(2.  Requirements Overview) N
() N
(   This section lists what functionality is required of a CalDAV server.) N
(   To advertise support for CalDAV, a server:) N
() N
(   o  MUST support iCalendar [RFC2445] as a media type for the calendar) N
(      object resource format;) N
() N
(   o  MUST support WebDAV Class 1 [RFC2518] \(note that [rfc2518bis]) N
(      describes clarifications to [RFC2518] that aid interoperability\);) N
() N
(   o  MUST support WebDAV ACL [RFC3744] with the additional privilege) N
(      defined in Section 6.1 of this document;) N
() N
(   o  MUST support transport over TLS [RFC2246] as defined in [RFC2818]) N
(      \(note that [RFC2246] has been obsoleted by [RFC4346]\);) N
() N
(   o  MUST support ETags [RFC2616] with additional requirements) N
(      specified in Section 5.3.4 of this document;) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 6]) N
() N
(rfc4791.txt) (Page 6/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (3/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (7-8) 4
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   o  MUST support all calendaring reports defined in Section 7 of this) N
(      document; and) N
() N
(   o  MUST advertise support on all calendar collections and calendar) N
(      object resources for the calendaring reports in the DAV:supported-) N
(      report-set property, as defined in Versioning Extensions to WebDAV) N
(      [RFC3253].) N
() N
(   In addition, a server:) N
() N
(   o  SHOULD support the MKCALENDAR method defined in Section 5.3.1 of) N
(      this document.) N
() N
(3.  Calendaring Data Model) N
() N
(   One of the features that has made WebDAV a successful protocol is its) N
(   firm data model.  This makes it a useful framework for other) N
(   applications such as calendaring.  This specification follows the) N
(   same pattern by developing all features based on a well-described) N
(   data model.) N
() N
(   As a brief overview, a CalDAV calendar is modeled as a WebDAV) N
(   collection with a defined structure; each calendar collection) N
(   contains a number of resources representing calendar objects as its) N
(   direct child resource.  Each resource representing a calendar object) N
(   \(event, to-do, journal entry, or other calendar components\) is called) N
(   a "calendar object resource".  Each calendar object resource and each) N
(   calendar collection can be individually locked and have individual) N
(   WebDAV properties.  Requirements derived from this model are provided) N
(   in Section 4.1 and Section 4.2.) N
() N
(3.1.  Calendar Server) N
() N
(   A CalDAV server is a calendaring-aware engine combined with a WebDAV) N
(   repository.  A WebDAV repository is a set of WebDAV collections,) N
(   containing other WebDAV resources, within a unified URL namespace.) N
(   For example, the repository "http://www.example.com/webdav/" may) N
(   contain WebDAV collections and resources, all of which have URLs) N
(   beginning with "http://www.example.com/webdav/".  Note that the root) N
(   URL, "http://www.example.com/", may not itself be a WebDAV repository) N
(   \(for example, if the WebDAV support is implemented through a servlet) N
(   or other Web server extension\).) N
() N
(   A WebDAV repository MAY include calendar data in some parts of its) N
(   URL namespace, and non-calendaring data in other parts.) N
() N
(   A WebDAV repository can advertise itself as a CalDAV server if it) N
(   supports the functionality defined in this specification at any point) N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 7]) N
() N
(rfc4791.txt) (Page 7/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   within the root of the repository.  That might mean that calendaring) N
(   data is spread throughout the repository and mixed with non-calendar) N
(   data in nearby collections \(e.g., calendar data may be found in) N
(   /home/lisa/calendars/ as well as in /home/bernard/calendars/, and) N
(   non-calendar data in /home/lisa/contacts/\).  Or, it might mean that) N
(   calendar data can be found only in certain sections of the repository) N
(   \(e.g., /calendar/\).  Calendaring features are only required in the) N
(   repository sections that are or contain calendar object resources.) N
(   Therefore, a repository confining calendar data to the /calendar/) N
(   collection would only need to support the CalDAV required features) N
(   within that collection.) N
() N
(   The CalDAV server or repository is the canonical location for) N
(   calendar data and state information.  Clients may submit requests to) N
(   change data or download data.  Clients may store calendar objects) N
(   offline and attempt to synchronize at a later time.  However, clients) N
(   MUST be prepared for calendar data on the server to change between) N
(   the time of last synchronization and when attempting an update, as) N
(   calendar collections may be shared and accessible via multiple) N
(   clients.  Entity tags and other features make this possible.) N
() N
(3.2.  Recurrence and the Data Model) N
() N
(   Recurrence is an important part of the data model because it governs) N
(   how many resources are expected to exist.  This specification models) N
(   a recurring calendar component and its recurrence exceptions as a) N
(   single resource.  In this model, recurrence rules, recurrence dates,) N
(   exception rules, and exception dates are all part of the data in a) N
(   single calendar object resource.  This model avoids problems of) N
(   limiting how many recurrence instances to store in the repository,) N
(   how to keep recurrence instances in sync with the recurring calendar) N
(   component, and how to link recurrence exceptions with the recurring) N
(   calendar component.  It also results in less data to synchronize) N
(   between client and server, and makes it easier to make changes to all) N
(   recurrence instances or to a recurrence rule.  It makes it easier to) N
(   create a recurring calendar component and to delete all recurrence) N
(   instances.) N
() N
(   Clients are not forced to retrieve information about all recurrence) N
(   instances of a recurring component.  The CALDAV:calendar-query and) N
(   CALDAV:calendar-multiget reports defined in this document allow) N
(   clients to retrieve only recurrence instances that overlap a given) N
(   time range.) N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 8]) N
() N
(rfc4791.txt) (Page 8/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (4/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (9-10) 5
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(4.  Calendar Resources) N
() N
(4.1.  Calendar Object Resources) N
() N
(   Calendar object resources contained in calendar collections MUST NOT) N
(   contain more than one type of calendar component \(e.g., VEVENT,) N
(   VTODO, VJOURNAL, VFREEBUSY, etc.\) with the exception of VTIMEZONE) N
(   components, which MUST be specified for each unique TZID parameter) N
(   value specified in the iCalendar object.  For instance, a calendar) N
(   object resource can contain one VEVENT component and one VTIMEZONE) N
(   component, but it cannot contain one VEVENT component and one VTODO) N
(   component.  Instead, the VEVENT and VTODO components would have to be) N
(   stored in separate calendar object resources in the same collection.) N
() N
(   Calendar object resources contained in calendar collections MUST NOT) N
(   specify the iCalendar METHOD property.) N
() N
(   The UID property value of the calendar components contained in a) N
(   calendar object resource MUST be unique in the scope of the calendar) N
(   collection in which they are stored.) N
() N
(   Calendar components in a calendar collection that have different UID) N
(   property values MUST be stored in separate calendar object resources.) N
() N
(   Calendar components with the same UID property value, in a given) N
(   calendar collection, MUST be contained in the same calendar object) N
(   resource.  This ensures that all components in a recurrence "set" are) N
(   contained in the same calendar object resource.  It is possible for a) N
(   calendar object resource to just contain components that represent) N
(   "overridden" instances \(ones that modify the behavior of a regular) N
(   instance, and thus include a RECURRENCE-ID property\) without also) N
(   including the "master" recurring component \(the one that defines the) N
(   recurrence "set" and does not contain any RECURRENCE-ID property\).) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                     [Page 9]) N
() N
(rfc4791.txt) (Page 9/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   For example, given the following iCalendar object:) N
() N
(   BEGIN:VCALENDAR) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   VERSION:2.0) N
(   BEGIN:VEVENT) N
(   UID:1@example.com) N
(   SUMMARY:One-off Meeting) N
(   DTSTAMP:20041210T183904Z) N
(   DTSTART:20041207T120000Z) N
(   DTEND:20041207T130000Z) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   UID:2@example.com) N
(   SUMMARY:Weekly Meeting) N
(   DTSTAMP:20041210T183838Z) N
(   DTSTART:20041206T120000Z) N
(   DTEND:20041206T130000Z) N
(   RRULE:FREQ=WEEKLY) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   UID:2@example.com) N
(   SUMMARY:Weekly Meeting) N
(   RECURRENCE-ID:20041213T120000Z) N
(   DTSTAMP:20041210T183838Z) N
(   DTSTART:20041213T130000Z) N
(   DTEND:20041213T140000Z) N
(   END:VEVENT) N
(   END:VCALENDAR) N
() N
(   The VEVENT component with the UID value "1@example.com" would be) N
(   stored in its own calendar object resource.  The two VEVENT) N
(   components with the UID value "2@example.com", which represent a) N
(   recurring event where one recurrence instance has been overridden,) N
(   would be stored in the same calendar object resource.) N
() N
(4.2.  Calendar Collection) N
() N
(   A calendar collection contains calendar object resources that) N
(   represent calendar components within a calendar.  A calendar) N
(   collection is manifested to clients as a WebDAV resource collection) N
(   identified by a URL.  A calendar collection MUST report the DAV:) N
(   collection and CALDAV:calendar XML elements in the value of the DAV:) N
(   resourcetype property.  The element type declaration for CALDAV:) N
(   calendar is:) N
() N
(       <!ELEMENT calendar EMPTY>) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 10]) N
() N
(rfc4791.txt) (Page 10/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (5/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (11-12) 6
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   A calendar collection can be created through provisioning \(i.e.,) N
(   automatically created when a user's account is provisioned\), or it) N
(   can be created with the MKCALENDAR method \(see Section 5.3.1\).  This) N
(   method can be useful for a user to create additional calendars \(e.g.,) N
(   soccer schedule\) or for users to share a calendar \(e.g., team events) N
(   or conference rooms\).  However, note that this document doesn't) N
(   define the purpose of extra calendar collections.  Users must rely on) N
(   non-standard cues to find out what a calendar collection is for, or) N
(   use the CALDAV:calendar-description property defined in Section 5.2.1) N
(   to provide such a cue.) N
() N
(   The following restrictions are applied to the resources within a) N
(   calendar collection:) N
() N
(   a.  Calendar collections MUST only contain calendar object resources) N
(       and collections that are not calendar collections, i.e., the only) N
(       "top-level" non-collection resources allowed in a calendar) N
(       collection are calendar object resources.  This ensures that) N
(       calendar clients do not have to deal with non-calendar data in a) N
(       calendar collection, though they do have to distinguish between) N
(       calendar object resources and collections when using standard) N
(       WebDAV techniques to examine the contents of a collection.) N
() N
(   b.  Collections contained in calendar collections MUST NOT contain) N
(       calendar collections at any depth, i.e., "nesting" of calendar) N
(       collections within other calendar collections at any depth is not) N
(       allowed.  This specification does not define how collections) N
(       contained in a calendar collection are used or how they relate to) N
(       any calendar object resources contained in the calendar) N
(       collection.) N
() N
(   Multiple calendar collections MAY be children of the same collection.) N
() N
(5.  Calendar Access Feature) N
() N
(5.1.  Calendar Access Support) N
() N
(   A server supporting the features described in this document MUST) N
(   include "calendar-access" as a field in the DAV response header from) N
(   an OPTIONS request on any resource that supports any calendar) N
(   properties, reports, method, or privilege.  A value of "calendar-) N
(   access" in the DAV response header MUST indicate that the server) N
(   supports all MUST level requirements specified in this document.) N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 11]) N
() N
(rfc4791.txt) (Page 11/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(5.1.1.  Example: Using OPTIONS for the Discovery of Calendar Access) N
(        Support) N
() N
(   >> Request <<) N
() N
(   OPTIONS /home/bernard/calendars/ HTTP/1.1) N
(   Host: cal.example.com) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 200 OK) N
(   Allow: OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, COPY, MOVE) N
(   Allow: PROPFIND, PROPPATCH, LOCK, UNLOCK, REPORT, ACL) N
(   DAV: 1, 2, access-control, calendar-access) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Length: 0) N
() N
(   In this example, the OPTIONS method returns the value "calendar-) N
(   access" in the DAV response header to indicate that the collection) N
(   "/home/bernard/calendars/" supports the properties, reports, method,) N
(   or privilege defined in this specification.) N
() N
(5.2.  Calendar Collection Properties) N
() N
(   This section defines properties for calendar collections.) N
() N
(5.2.1.  CALDAV:calendar-description Property) N
() N
(   Name:  calendar-description) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a human-readable description of the calendar) N
(      collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MAY be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).  An xml:lang attribute indicating the human) N
(      language of the description SHOULD be set for this property by) N
(      clients or through server provisioning.  Servers MUST return any) N
(      xml:lang attribute if set for the property.) N
() N
(   Description:  If present, the property contains a description of the) N
(      calendar collection that is suitable for presentation to a user.) N
(      If not present, the client should assume no description for the) N
(      calendar collection.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 12]) N
() N
(rfc4791.txt) (Page 12/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (6/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (13-14) 7
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-description \(#PCDATA\)>) N
(         PCDATA value: string) N
() N
(   Example:) N
() N
(         <C:calendar-description xml:lang="fr-CA") N
(            xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >Calendrier de Mathilde Desruisseaux</C:calendar-description>) N
() N
(5.2.2.  CALDAV:calendar-timezone Property) N
() N
(   Name:  calendar-timezone) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a time zone on a calendar collection.) N
() N
(   Conformance:  This property SHOULD be defined on all calendar) N
(      collections.  If defined, it SHOULD NOT be returned by a PROPFIND) N
(      DAV:allprop request \(as defined in Section 12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:calendar-timezone property is used to) N
(      specify the time zone the server should rely on to resolve "date") N
(      values and "date with local time" values \(i.e., floating time\) to) N
(      "date with UTC time" values.  The server will require this) N
(      information to determine if a calendar component scheduled with) N
(      "date" values or "date with local time" values overlaps a CALDAV:) N
(      time-range specified in a CALDAV:calendar-query REPORT.  The) N
(      server will also require this information to compute the proper) N
(      FREEBUSY time period as "date with UTC time" in the VFREEBUSY) N
(      component returned in a response to a CALDAV:free-busy-query) N
(      REPORT request that takes into account calendar components) N
(      scheduled with "date" values or "date with local time" values.  In) N
(      the absence of this property, the server MAY rely on the time zone) N
(      of their choice.) N
() N
(   Note:  The iCalendar data embedded within the CALDAV:calendar-) N
(      timezone XML element MUST follow the standard XML character data) N
(      encoding rules, including use of &lt;, &gt;, &amp; etc. entity) N
(      encoding or the use of a <![CDATA[ ... ]]> construct.  In the) N
(      later case, the iCalendar data cannot contain the character) N
(      sequence "]]>", which is the end delimiter for the CDATA section.) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 13]) N
() N
(rfc4791.txt) (Page 13/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-timezone \(#PCDATA\)>) N
(         PCDATA value: an iCalendar object with exactly one VTIMEZONE) N
(               component.) N
() N
(   Example:) N
() N
(   <C:calendar-timezone) N
(       xmlns:C="urn:ietf:params:xml:ns:caldav">BEGIN:VCALENDAR) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   VERSION:2.0) N
(   BEGIN:VTIMEZONE) N
(   TZID:US-Eastern) N
(   LAST-MODIFIED:19870101T000000Z) N
(   BEGIN:STANDARD) N
(   DTSTART:19671029T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   TZNAME:Eastern Standard Time \(US &amp; Canada\)) N
(   END:STANDARD) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:19870405T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   TZNAME:Eastern Daylight Time \(US &amp; Canada\)) N
(   END:DAYLIGHT) N
(   END:VTIMEZONE) N
(   END:VCALENDAR) N
(   </C:calendar-timezone>) N
() N
(5.2.3.  CALDAV:supported-calendar-component-set Property) N
() N
(   Name:  supported-calendar-component-set) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies the calendar component types \(e.g., VEVENT,) N
(      VTODO, etc.\) that calendar object resources can contain in the) N
(      calendar collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 14]) N
() N
(rfc4791.txt) (Page 14/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (7/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (15-16) 8
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Description:  The CALDAV:supported-calendar-component-set property is) N
(      used to specify restrictions on the calendar component types that) N
(      calendar object resources may contain in a calendar collection.) N
(      Any attempt by the client to store calendar object resources with) N
(      component types not listed in this property, if it exists, MUST) N
(      result in an error, with the CALDAV:supported-calendar-component) N
(      precondition \(Section 5.3.2.1\) being violated.  Since this) N
(      property is protected, it cannot be changed by clients using a) N
(      PROPPATCH request.  However, clients can initialize the value of) N
(      this property when creating a new calendar collection with) N
(      MKCALENDAR.  The empty-element tag <C:comp name="VTIMEZONE"/> MUST) N
(      only be specified if support for calendar object resources that) N
(      only contain VTIMEZONE components is provided or desired.  Support) N
(      for VTIMEZONE components in calendar object resources that contain) N
(      VEVENT or VTODO components is always assumed.  In the absence of) N
(      this property, the server MUST accept all component types, and the) N
(      client can assume that all component types are accepted.) N
() N
(   Definition:) N
() N
(         <!ELEMENT supported-calendar-component-set \(comp+\)>) N
() N
(   Example:) N
() N
(         <C:supported-calendar-component-set) N
(             xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(           <C:comp name="VEVENT"/>) N
(           <C:comp name="VTODO"/>) N
(         </C:supported-calendar-component-set>) N
() N
(5.2.4.  CALDAV:supported-calendar-data Property) N
() N
(   Name:  supported-calendar-data) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies what media types are allowed for calendar object) N
(      resources in a calendar collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:supported-calendar-data property is used to) N
(      specify the media type supported for the calendar object resources) N
(      contained in a given calendar collection \(e.g., iCalendar version) N
(      2.0\).  Any attempt by the client to store calendar object) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 15]) N
() N
(rfc4791.txt) (Page 15/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      resources with a media type not listed in this property MUST) N
(      result in an error, with the CALDAV:supported-calendar-data) N
(      precondition \(Section 5.3.2.1\) being violated.  In the absence of) N
(      this property, the server MUST only accept data with the media) N
(      type "text/calendar" and iCalendar version 2.0, and clients can) N
(      assume that the server will only accept this data.) N
() N
(   Definition:) N
() N
(         <!ELEMENT supported-calendar-data \(calendar-data+\)>) N
() N
(   Example:) N
() N
(         <C:supported-calendar-data) N
(            xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(           <C:calendar-data content-type="text/calendar" version="2.0"/>) N
(         </C:supported-calendar-data>) N
() N
(5.2.5.  CALDAV:max-resource-size Property) N
() N
(   Name:  max-resource-size) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a numeric value indicating the maximum size of a) N
(      resource in octets that the server is willing to accept when a) N
(      calendar object resource is stored in a calendar collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:max-resource-size is used to specify a) N
(      numeric value that represents the maximum size in octets that the) N
(      server is willing to accept when a calendar object resource is) N
(      stored in a calendar collection.  Any attempt to store a calendar) N
(      object resource exceeding this size MUST result in an error, with) N
(      the CALDAV:max-resource-size precondition \(Section 5.3.2.1\) being) N
(      violated.  In the absence of this property, the client can assume) N
(      that the server will allow storing a resource of any reasonable) N
(      size.) N
() N
(   Definition:) N
() N
(         <!ELEMENT max-resource-size \(#PCDATA\)>) N
(         PCDATA value: a numeric value \(positive integer\)) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 16]) N
() N
(rfc4791.txt) (Page 16/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (8/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (17-18) 9
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Example:) N
() N
(         <C:max-resource-size xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >102400</C:max-resource-size>) N
() N
(5.2.6.  CALDAV:min-date-time Property) N
() N
(   Name:  min-date-time) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a DATE-TIME value indicating the earliest date and) N
(      time \(in UTC\) that the server is willing to accept for any DATE or) N
(      DATE-TIME value in a calendar object resource stored in a calendar) N
(      collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:min-date-time is used to specify an) N
(      iCalendar DATE-TIME value in UTC that indicates the earliest) N
(      inclusive date that the server is willing to accept for any) N
(      explicit DATE or DATE-TIME value in a calendar object resource) N
(      stored in a calendar collection.  Any attempt to store a calendar) N
(      object resource using a DATE or DATE-TIME value earlier than this) N
(      value MUST result in an error, with the CALDAV:min-date-time) N
(      precondition \(Section 5.3.2.1\) being violated.  Note that servers) N
(      MUST accept recurring components that specify instances beyond) N
(      this limit, provided none of those instances have been overridden.) N
(      In that case, the server MAY simply ignore those instances outside) N
(      of the acceptable range when processing reports on the calendar) N
(      object resource.  In the absence of this property, the client can) N
(      assume any valid iCalendar date may be used at least up to the) N
(      CALDAV:max-date-time value, if that is defined.) N
() N
(   Definition:) N
() N
(         <!ELEMENT min-date-time \(#PCDATA\)>) N
(         PCDATA value: an iCalendar format DATE-TIME value in UTC) N
() N
(   Example:) N
() N
(         <C:min-date-time xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >19000101T000000Z</C:min-date-time>) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 17]) N
() N
(rfc4791.txt) (Page 17/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(5.2.7.  CALDAV:max-date-time Property) N
() N
(   Name:  max-date-time) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a DATE-TIME value indicating the latest date and) N
(      time \(in UTC\) that the server is willing to accept for any DATE or) N
(      DATE-TIME value in a calendar object resource stored in a calendar) N
(      collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:max-date-time is used to specify an) N
(      iCalendar DATE-TIME value in UTC that indicates the inclusive) N
(      latest date that the server is willing to accept for any date or) N
(      time value in a calendar object resource stored in a calendar) N
(      collection.  Any attempt to store a calendar object resource using) N
(      a DATE or DATE-TIME value later than this value MUST result in an) N
(      error, with the CALDAV:max-date-time precondition) N
(      \(Section 5.3.2.1\) being violated.  Note that servers MUST accept) N
(      recurring components that specify instances beyond this limit,) N
(      provided none of those instances have been overridden.  In that) N
(      case, the server MAY simply ignore those instances outside of the) N
(      acceptable range when processing reports on the calendar object) N
(      resource.  In the absence of this property, the client can assume) N
(      any valid iCalendar date may be used at least down to the CALDAV:) N
(      min-date-time value, if that is defined.) N
() N
(   Definition:) N
() N
(         <!ELEMENT max-date-time \(#PCDATA\)>) N
(         PCDATA value: an iCalendar format DATE-TIME value in UTC) N
() N
(   Example:) N
() N
(         <C:max-date-time xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >20491231T235959Z</C:max-date-time>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 18]) N
() N
(rfc4791.txt) (Page 18/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (9/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (19-20) 10
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(5.2.8.  CALDAV:max-instances Property) N
() N
(   Name:  max-instances) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a numeric value indicating the maximum number of) N
(      recurrence instances that a calendar object resource stored in a) N
(      calendar collection can generate.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:max-instances is used to specify a numeric) N
(      value that indicates the maximum number of recurrence instances) N
(      that a calendar object resource stored in a calendar collection) N
(      can generate.  Any attempt to store a calendar object resource) N
(      with a recurrence pattern that generates more instances than this) N
(      value MUST result in an error, with the CALDAV:max-instances) N
(      precondition \(Section 5.3.2.1\) being violated.  In the absence of) N
(      this property, the client can assume that the server has no limits) N
(      on the number of recurrence instances it can handle or expand.) N
() N
(   Definition:) N
() N
(         <!ELEMENT max-instances \(#PCDATA\)>) N
(         PCDATA value: a numeric value \(integer greater than zero\)) N
() N
(   Example:) N
() N
(         <C:max-instances xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >100</C:max-instances>) N
() N
(5.2.9.  CALDAV:max-attendees-per-instance Property) N
() N
(   Name:  max-attendees-per-instance) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Provides a numeric value indicating the maximum number of) N
(      ATTENDEE properties in any instance of a calendar object resource) N
(      stored in a calendar collection.) N
() N
(   Conformance:  This property MAY be defined on any calendar) N
(      collection.  If defined, it MUST be protected and SHOULD NOT be) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 19]) N
() N
(rfc4791.txt) (Page 19/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:max-attendees-per-instance is used to) N
(      specify a numeric value that indicates the maximum number of) N
(      iCalendar ATTENDEE properties on any one instance of a calendar) N
(      object resource stored in a calendar collection.  Any attempt to) N
(      store a calendar object resource with more ATTENDEE properties per) N
(      instance than this value MUST result in an error, with the CALDAV:) N
(      max-attendees-per-instance precondition \(Section 5.3.2.1\) being) N
(      violated.  In the absence of this property, the client can assume) N
(      that the server can handle any number of ATTENDEE properties in a) N
(      calendar component.) N
() N
(   Definition:) N
() N
(         <!ELEMENT max-attendees-per-instance \(#PCDATA\)>) N
(         PCDATA value: a numeric value \(integer greater than zero\)) N
() N
(   Example:) N
() N
(         <C:max-attendees-per-instance) N
(              xmlns:C="urn:ietf:params:xml:ns:caldav") N
(         >25</C:max-attendees-per-instance>) N
() N
(5.2.10.  Additional Precondition for PROPPATCH) N
() N
(   This specification requires an additional Precondition for the) N
(   PROPPATCH method.  The precondition is:) N
() N
(      \(CALDAV:valid-calendar-data\): The time zone specified in CALDAV:) N
(      calendar-timezone property MUST be a valid iCalendar object) N
(      containing a single valid VTIMEZONE component.) N
() N
(5.3.  Creating Resources) N
() N
(   Calendar collections and calendar object resources may be created by) N
(   either a CalDAV client or by the CalDAV server.  This specification) N
(   defines restrictions and a data model that both clients and servers) N
(   MUST adhere to when manipulating such calendar data.) N
() N
(5.3.1.  MKCALENDAR Method) N
() N
(   An HTTP request using the MKCALENDAR method creates a new calendar) N
(   collection resource.  A server MAY restrict calendar collection) N
(   creation to particular collections.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 20]) N
() N
(rfc4791.txt) (Page 20/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (10/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (21-22) 11
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Support for MKCALENDAR on the server is only RECOMMENDED and not) N
(   REQUIRED because some calendar stores only support one calendar per) N
(   user \(or principal\), and those are typically pre-created for each) N
(   account.  However, servers and clients are strongly encouraged to) N
(   support MKCALENDAR whenever possible to allow users to create) N
(   multiple calendar collections to help organize their data better.) N
() N
(   Clients SHOULD use the DAV:displayname property for a human-readable) N
(   name of the calendar.  Clients can either specify the value of the) N
(   DAV:displayname property in the request body of the MKCALENDAR) N
(   request, or alternatively issue a PROPPATCH request to change the) N
(   DAV:displayname property to the appropriate value immediately after) N
(   issuing the MKCALENDAR request.  Clients SHOULD NOT set the DAV:) N
(   displayname property to be the same as any other calendar collection) N
(   at the same URI "level".  When displaying calendar collections to) N
(   users, clients SHOULD check the DAV:displayname property and use that) N
(   value as the name of the calendar.  In the event that the DAV:) N
(   displayname property is empty, the client MAY use the last part of) N
(   the calendar collection URI as the name; however, that path segment) N
(   may be "opaque" and not represent any meaningful human-readable text.) N
() N
(   If a MKCALENDAR request fails, the server state preceding the request) N
(   MUST be restored.) N
() N
(   Marshalling:) N
(      If a request body is included, it MUST be a CALDAV:mkcalendar XML) N
(      element.  Instruction processing MUST occur in the order) N
(      instructions are received \(i.e., from top to bottom\).) N
(      Instructions MUST either all be executed or none executed.  Thus,) N
(      if any error occurs during processing, all executed instructions) N
(      MUST be undone and a proper error result returned.  Instruction) N
(      processing details can be found in the definition of the DAV:set) N
(      instruction in Section 12.13.2 of [RFC2518].) N
() N
(         <!ELEMENT mkcalendar \(DAV:set\)>) N
() N
(      If a response body for a successful request is included, it MUST) N
(      be a CALDAV:mkcalendar-response XML element.) N
() N
(         <!ELEMENT mkcalendar-response ANY>) N
() N
(      The response MUST include a Cache-Control:no-cache header.) N
() N
(   Preconditions:) N
() N
(      \(DAV:resource-must-be-null\): A resource MUST NOT exist at the) N
(      Request-URI;) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 21]) N
() N
(rfc4791.txt) (Page 21/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      \(CALDAV:calendar-collection-location-ok\): The Request-URI MUST) N
(      identify a location where a calendar collection can be created;) N
() N
(      \(CALDAV:valid-calendar-data\): The time zone specified in the) N
(      CALDAV:calendar-timezone property MUST be a valid iCalendar object) N
(      containing a single valid VTIMEZONE component;) N
() N
(      \(DAV:needs-privilege\): The DAV:bind privilege MUST be granted to) N
(      the current user on the parent collection of the Request-URI.) N
() N
(   Postconditions:) N
() N
(      \(CALDAV:initialize-calendar-collection\): A new calendar collection) N
(      exists at the Request-URI.  The DAV:resourcetype of the calendar) N
(      collection MUST contain both DAV:collection and CALDAV:calendar) N
(      XML elements.) N
() N
(5.3.1.1.  Status Codes) N
() N
(   The following are examples of response codes one would expect to get) N
(   in a response to a MKCALENDAR request.  Note that this list is by no) N
(   means exhaustive.) N
() N
(      201 \(Created\) - The calendar collection resource was created in) N
(      its entirety;) N
() N
(      207 \(Multi-Status\) - The calendar collection resource was not) N
(      created since one or more DAV:set instructions specified in the) N
(      request body could not be processed successfully.  The following) N
(      are examples of response codes one would expect to be used in a) N
(      207 \(Multi-Status\) response in this situation:) N
() N
(         403 \(Forbidden\) - The client, for reasons the server chooses) N
(         not to specify, cannot alter one of the properties;) N
() N
(         409 \(Conflict\) - The client has provided a value whose) N
(         semantics are not appropriate for the property.  This includes) N
(         trying to set read-only properties;) N
() N
(         424 \(Failed Dependency\) - The DAV:set instruction on the) N
(         specified resource would have succeeded if it were not for the) N
(         failure of another DAV:set instruction specified in the request) N
(         body;) N
() N
(         423 \(Locked\) - The specified resource is locked and the client) N
(         either is not a lock owner or the lock type requires a lock) N
(         token to be submitted and the client did not submit it; and) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 22]) N
() N
(rfc4791.txt) (Page 22/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (11/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (23-24) 12
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(         507 \(Insufficient Storage\) - The server did not have sufficient) N
(         space to record the property;) N
() N
(      403 \(Forbidden\) - This indicates at least one of two conditions:) N
(      1\) the server does not allow the creation of calendar collections) N
(      at the given location in its namespace, or 2\) the parent) N
(      collection of the Request-URI exists but cannot accept members;) N
() N
(      409 \(Conflict\) - A collection cannot be made at the Request-URI) N
(      until one or more intermediate collections have been created;) N
() N
(      415 \(Unsupported Media Type\) - The server does not support the) N
(      request type of the body; and) N
() N
(      507 \(Insufficient Storage\) - The resource does not have sufficient) N
(      space to record the state of the resource after the execution of) N
(      this method.) N
() N
(5.3.1.2.  Example: Successful MKCALENDAR Request) N
() N
(   This example creates a calendar collection called /home/lisa/) N
(   calendars/events/ on the server cal.example.com with specific values) N
(   for the properties DAV:displayname, CALDAV:calendar-description,) N
(   CALDAV:supported-calendar-component-set, and CALDAV:calendar-) N
(   timezone.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 23]) N
() N
(rfc4791.txt) (Page 23/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   MKCALENDAR /home/lisa/calendars/events/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:mkcalendar xmlns:D="DAV:") N
(                 xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:set>) N
(       <D:prop>) N
(         <D:displayname>Lisa's Events</D:displayname>) N
(         <C:calendar-description xml:lang="en") N
(   >Calendar restricted to events.</C:calendar-description>) N
(         <C:supported-calendar-component-set>) N
(           <C:comp name="VEVENT"/>) N
(         </C:supported-calendar-component-set>) N
(         <C:calendar-timezone><![CDATA[BEGIN:VCALENDAR) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   VERSION:2.0) N
(   BEGIN:VTIMEZONE) N
(   TZID:US-Eastern) N
(   LAST-MODIFIED:19870101T000000Z) N
(   BEGIN:STANDARD) N
(   DTSTART:19671029T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   TZNAME:Eastern Standard Time \(US & Canada\)) N
(   END:STANDARD) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:19870405T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   TZNAME:Eastern Daylight Time \(US & Canada\)) N
(   END:DAYLIGHT) N
(   END:VTIMEZONE) N
(   END:VCALENDAR) N
(   ]]></C:calendar-timezone>) N
(       </D:prop>) N
(     </D:set>) N
(   </C:mkcalendar>) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 24]) N
() N
(rfc4791.txt) (Page 24/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (12/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (25-26) 13
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 201 Created) N
(   Cache-Control: no-cache) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Length: 0) N
() N
(5.3.2.  Creating Calendar Object Resources) N
() N
(   Clients populate calendar collections with calendar object resources.) N
(   The URL for each calendar object resource is entirely arbitrary and) N
(   does not need to bear a specific relationship to the calendar object) N
(   resource's iCalendar properties or other metadata.  New calendar) N
(   object resources MUST be created with a PUT request targeted at an) N
(   unmapped URI.  A PUT request targeted at a mapped URI updates an) N
(   existing calendar object resource.) N
() N
(   When servers create new resources, it's not hard for the server to) N
(   choose an unmapped URI.  It's slightly tougher for clients, because a) N
(   client might not want to examine all resources in the collection and) N
(   might not want to lock the entire collection to ensure that a new) N
(   resource isn't created with a name collision.  However, there is an) N
(   HTTP feature to mitigate this.  If the client intends to create a new) N
(   non-collection resource, such as a new VEVENT, the client SHOULD use) N
(   the HTTP request header "If-None-Match: *" on the PUT request.  The) N
(   Request-URI on the PUT request MUST include the target collection,) N
(   where the resource is to be created, plus the name of the resource in) N
(   the last path segment.  The "If-None-Match: *" request header ensures) N
(   that the client will not inadvertently overwrite an existing resource) N
(   if the last path segment turned out to already be used.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 25]) N
() N
(rfc4791.txt) (Page 25/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   PUT /home/lisa/calendars/events/qwue23489.ics HTTP/1.1) N
(   If-None-Match: *) N
(   Host: cal.example.com) N
(   Content-Type: text/calendar) N
(   Content-Length: xxxx) N
() N
(   BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VEVENT) N
(   UID:20010712T182145Z-123401@example.com) N
(   DTSTAMP:20060712T182145Z) N
(   DTSTART:20060714T170000Z) N
(   DTEND:20060715T040000Z) N
(   SUMMARY:Bastille Day Party) N
(   END:VEVENT) N
(   END:VCALENDAR) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 201 Created) N
(   Content-Length: 0) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   ETag: "123456789-000-111") N
() N
(   The request to change an existing event is the same, but with a) N
(   specific ETag in the "If-Match" header, rather than the "If-None-) N
(   Match" header.) N
() N
(   As indicated in Section 3.10 of [RFC2445], the URL of calendar object) N
(   resources containing \(an arbitrary set of\) calendaring and scheduling) N
(   information may be suffixed by ".ics", and the URL of calendar object) N
(   resources containing free or busy time information may be suffixed by) N
(   ".ifb".) N
() N
(5.3.2.1.  Additional Preconditions for PUT, COPY, and MOVE) N
() N
(   This specification creates additional Preconditions for PUT, COPY,) N
(   and MOVE methods.  These preconditions apply when a PUT operation of) N
(   a calendar object resource into a calendar collection occurs, or when) N
(   a COPY or MOVE operation of a calendar object resource into a) N
(   calendar collection occurs, or when a COPY or MOVE operation occurs) N
(   on a calendar collection.) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 26]) N
() N
(rfc4791.txt) (Page 26/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (13/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (27-28) 14
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   The new preconditions are:) N
() N
(      \(CALDAV:supported-calendar-data\): The resource submitted in the) N
(      PUT request, or targeted by a COPY or MOVE request, MUST be a) N
(      supported media type \(i.e., iCalendar\) for calendar object) N
(      resources;) N
() N
(      \(CALDAV:valid-calendar-data\): The resource submitted in the PUT) N
(      request, or targeted by a COPY or MOVE request, MUST be valid data) N
(      for the media type being specified \(i.e., MUST contain valid) N
(      iCalendar data\);) N
() N
(      \(CALDAV:valid-calendar-object-resource\): The resource submitted in) N
(      the PUT request, or targeted by a COPY or MOVE request, MUST obey) N
(      all restrictions specified in Section 4.1 \(e.g., calendar object) N
(      resources MUST NOT contain more than one type of calendar) N
(      component, calendar object resources MUST NOT specify the) N
(      iCalendar METHOD property, etc.\);) N
() N
(      \(CALDAV:supported-calendar-component\): The resource submitted in) N
(      the PUT request, or targeted by a COPY or MOVE request, MUST) N
(      contain a type of calendar component that is supported in the) N
(      targeted calendar collection;) N
() N
(      \(CALDAV:no-uid-conflict\): The resource submitted in the PUT) N
(      request, or targeted by a COPY or MOVE request, MUST NOT specify) N
(      an iCalendar UID property value already in use in the targeted) N
(      calendar collection or overwrite an existing calendar object) N
(      resource with one that has a different UID property value.) N
(      Servers SHOULD report the URL of the resource that is already) N
(      making use of the same UID property value in the DAV:href element;) N
() N
(                <!ELEMENT no-uid-conflict \(DAV:href\)>) N
() N
(      \(CALDAV:calendar-collection-location-ok\): In a COPY or MOVE) N
(      request, when the Request-URI is a calendar collection, the) N
(      Destination-URI MUST identify a location where a calendar) N
(      collection can be created;) N
() N
(      \(CALDAV:max-resource-size\): The resource submitted in the PUT) N
(      request, or targeted by a COPY or MOVE request, MUST have an octet) N
(      size less than or equal to the value of the CALDAV:max-resource-) N
(      size property value \(Section 5.2.5\) on the calendar collection) N
(      where the resource will be stored;) N
() N
(      \(CALDAV:min-date-time\): The resource submitted in the PUT request,) N
(      or targeted by a COPY or MOVE request, MUST have all of its) N
(      iCalendar DATE or DATE-TIME property values \(for each recurring) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 27]) N
() N
(rfc4791.txt) (Page 27/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      instance\) greater than or equal to the value of the CALDAV:min-) N
(      date-time property value \(Section 5.2.6\) on the calendar) N
(      collection where the resource will be stored;) N
() N
(      \(CALDAV:max-date-time\): The resource submitted in the PUT request,) N
(      or targeted by a COPY or MOVE request, MUST have all of its) N
(      iCalendar DATE or DATE-TIME property values \(for each recurring) N
(      instance\) less than the value of the CALDAV:max-date-time property) N
(      value \(Section 5.2.7\) on the calendar collection where the) N
(      resource will be stored;) N
() N
(      \(CALDAV:max-instances\): The resource submitted in the PUT request,) N
(      or targeted by a COPY or MOVE request, MUST generate a number of) N
(      recurring instances less than or equal to the value of the CALDAV:) N
(      max-instances property value \(Section 5.2.8\) on the calendar) N
(      collection where the resource will be stored;) N
() N
(      \(CALDAV:max-attendees-per-instance\): The resource submitted in the) N
(      PUT request, or targeted by a COPY or MOVE request, MUST have a) N
(      number of ATTENDEE properties on any one instance less than or) N
(      equal to the value of the CALDAV:max-attendees-per-instance) N
(      property value \(Section 5.2.9\) on the calendar collection where) N
(      the resource will be stored;) N
() N
(5.3.3.  Non-Standard Components, Properties, and Parameters) N
() N
(   iCalendar provides a "standard mechanism for doing non-standard) N
(   things".  This extension support allows implementers to make use of) N
(   non-standard components, properties, and parameters whose names are) N
(   prefixed with the text "X-".) N
() N
(   Servers MUST support the use of non-standard components, properties,) N
(   and parameters in calendar object resources stored via the PUT) N
(   method.) N
() N
(   Servers may need to enforce rules for their own "private" components,) N
(   properties, or parameters, so servers MAY reject any attempt by the) N
(   client to change those or use values for those outside of any) N
(   restrictions the server may have.  Servers SHOULD ensure that any) N
(   "private" components, properties, or parameters it uses follow the) N
(   convention of including a vendor id in the "X-" name, as described in) N
(   Section 4.2 of [RFC2445], e.g., "X-ABC-PRIVATE".) N
() N
(5.3.4.  Calendar Object Resource Entity Tag) N
() N
(   The DAV:getetag property MUST be defined and set to a strong entity) N
(   tag on all calendar object resources.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 28]) N
() N
(rfc4791.txt) (Page 28/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (14/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (29-30) 15
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   A response to a GET request targeted at a calendar object resource) N
(   MUST contain an ETag response header field indicating the current) N
(   value of the strong entity tag of the calendar object resource.) N
() N
(   Servers SHOULD return a strong entity tag \(ETag header\) in a PUT) N
(   response when the stored calendar object resource is equivalent by) N
(   octet equality to the calendar object resource submitted in the body) N
(   of the PUT request.  This allows clients to reliably use the returned) N
(   strong entity tag for data synchronization purposes.  For instance,) N
(   the client can do a PROPFIND request on the stored calendar object) N
(   resource and have the DAV:getetag property returned, and compare that) N
(   value with the strong entity tag it received on the PUT response, and) N
(   know that if they are equal, then the calendar object resource on the) N
(   server has not been changed.) N
() N
(   In the case where the data stored by a server as a result of a PUT) N
(   request is not equivalent by octet equality to the submitted calendar) N
(   object resource, the behavior of the ETag response header is not) N
(   specified here, with the exception that a strong entity tag MUST NOT) N
(   be returned in the response.  As a result, clients may need to) N
(   retrieve the modified calendar object resource \(and ETag\) as a basis) N
(   for further changes, rather than use the calendar object resource it) N
(   had sent with the PUT request.) N
() N
(6.  Calendaring Access Control) N
() N
(6.1.  Calendaring Privilege) N
() N
(   CalDAV servers MUST support and adhere to the requirements of WebDAV) N
(   ACL [RFC3744].  WebDAV ACL provides a framework for an extensible set) N
(   of privileges that can be applied to WebDAV collections and ordinary) N
(   resources.  CalDAV servers MUST also support the calendaring) N
(   privilege defined in this section.) N
() N
(6.1.1.  CALDAV:read-free-busy Privilege) N
() N
(   Calendar users often wish to allow other users to see their busy time) N
(   information, without viewing the other details of the calendar) N
(   components \(e.g., location, summary, attendees\).  This allows a) N
(   significant amount of privacy while still allowing other users to) N
(   schedule meetings at times when the user is likely to be free.) N
() N
(   The CALDAV:read-free-busy privilege controls which calendar) N
(   collections, regular collections, and calendar object resources are) N
(   examined when a CALDAV:free-busy-query REPORT request is processed) N
(   \(see Section 7.10\).  This privilege can be granted on calendar) N
(   collections, regular collections, or calendar object resources.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 29]) N
() N
(rfc4791.txt) (Page 29/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Servers MUST support this privilege on all calendar collections,) N
(   regular collections, and calendar object resources.) N
() N
() N
(           <!ELEMENT read-free-busy EMPTY>) N
() N
(   The CALDAV:read-free-busy privilege MUST be aggregated in the DAV:) N
(   read privilege.  Servers MUST allow the CALDAV:read-free-busy to be) N
(   granted without the DAV:read privilege being granted.) N
() N
(   Clients should note that when only the CALDAV:read-free-busy) N
(   privilege has been granted on a resource, access to GET, HEAD,) N
(   OPTIONS, and PROPFIND on the resource is not implied \(those) N
(   operations are governed by the DAV:read privilege\).) N
() N
(6.2.  Additional Principal Property) N
() N
(   This section defines an additional property for WebDAV principal) N
(   resources, as defined in [RFC3744].) N
() N
(6.2.1.  CALDAV:calendar-home-set Property) N
() N
(   Name:  calendar-home-set) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Identifies the URL of any WebDAV collections that contain) N
(      calendar collections owned by the associated principal resource.) N
() N
(   Conformance:  This property SHOULD be defined on a principal) N
(      resource.  If defined, it MAY be protected and SHOULD NOT be) N
(      returned by a PROPFIND DAV:allprop request \(as defined in Section) N
(      12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:calendar-home-set property is meant to allow) N
(      users to easily find the calendar collections owned by the) N
(      principal.  Typically, users will group all the calendar) N
(      collections that they own under a common collection.  This) N
(      property specifies the URL of collections that are either calendar) N
(      collections or ordinary collections that have child or descendant) N
(      calendar collections owned by the principal.) N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-home-set \(DAV:href*\)>) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 30]) N
() N
(rfc4791.txt) (Page 30/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (15/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (31-32) 16
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Example:) N
() N
(       <C:calendar-home-set xmlns:D="DAV:") N
(                            xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(         <D:href>http://cal.example.com/home/bernard/calendars/</D:href>) N
(       </C:calendar-home-set>) N
() N
(7.  Calendaring Reports) N
() N
(   This section defines the reports that CalDAV servers MUST support on) N
(   calendar collections and calendar object resources.) N
() N
(   CalDAV servers MUST advertise support for these reports on all) N
(   calendar collections and calendar object resources with the DAV:) N
(   supported-report-set property, defined in Section 3.1.5 of [RFC3253].) N
(   CalDAV servers MAY also advertise support for these reports on) N
(   ordinary collections.) N
() N
(   Some of these reports allow calendar data \(from possibly multiple) N
(   resources\) to be returned.) N
() N
(7.1.  REPORT Method) N
() N
(   The REPORT method \(defined in Section 3.6 of [RFC3253]\) provides an) N
(   extensible mechanism for obtaining information about one or more) N
(   resources.  Unlike the PROPFIND method, which returns the value of) N
(   one or more named properties, the REPORT method can involve more) N
(   complex processing.  REPORT is valuable in cases where the server has) N
(   access to all of the information needed to perform the complex) N
(   request \(such as a query\), and where it would require multiple) N
(   requests for the client to retrieve the information needed to perform) N
(   the same request.) N
() N
(   CalDAV servers MUST support the DAV:expand-property REPORT defined in) N
(   Section 3.8 of [RFC3253].) N
() N
(7.2.  Ordinary Collections) N
() N
(   Servers MAY support the reports defined in this document on ordinary) N
(   collections \(collections that are not calendar collections\), in) N
(   addition to calendar collections or calendar object resources.  In) N
(   computing responses to the reports on ordinary collections, servers) N
(   MUST only consider calendar object resources contained in calendar) N
(   collections that are targeted by the REPORT request, based on the) N
(   value of the Depth request header.) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 31]) N
() N
(rfc4791.txt) (Page 31/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.3.  Date and Floating Time) N
() N
(   iCalendar provides a way to specify DATE and DATE-TIME values that) N
(   are not bound to any time zone in particular, hereafter called) N
(   "floating date" and "floating time", respectively.  These values are) N
(   used to represent the same day, hour, minute, and second value,) N
(   regardless of which time zone is being observed.  For instance, the) N
(   DATE value "20051111", represents November 11, 2005 in no specific) N
(   time zone, while the DATE-TIME value "20051111T111100" represents) N
(   November 11, 2005, at 11:11 A.M. in no specific time zone.) N
() N
(   CalDAV servers may need to convert "floating date" and "floating) N
(   time" values in date with UTC time values in the processing of) N
(   calendaring REPORT requests.) N
() N
(   For the CALDAV:calendar-query REPORT, CalDAV servers MUST rely on the) N
(   value of the CALDAV:timezone XML element, if specified as part of the) N
(   request body, to perform the proper conversion of "floating date" and) N
(   "floating time" values to date with UTC time values.  If the CALDAV:) N
(   timezone XML element is not specified in the request body, CalDAV) N
(   servers MUST rely on the value of the CALDAV:calendar-timezone) N
(   property, if defined, or else the CalDAV servers MAY rely on the time) N
(   zone of their choice.) N
() N
(   For the CALDAV:free-busy-query REPORT, CalDAV servers MUST rely on) N
(   the value of the CALDAV:calendar-timezone property, if defined, to) N
(   compute the proper FREEBUSY time period value as date with UTC time) N
(   for calendar components scheduled with "floating date" or "floating) N
(   time".  If the CALDAV:calendar-timezone property is not defined,) N
(   CalDAV servers MAY rely on the time zone of their choice.) N
() N
(7.4.  Time Range Filtering) N
() N
(   Some of the reports defined in this section can include a time range) N
(   filter that is used to restrict the set of calendar object resources) N
(   returned to just those that overlap the specified time range.  The) N
(   time range filter can be applied to a calendar component as a whole,) N
(   or to specific calendar component properties with DATE or DATE-TIME) N
(   value types.) N
() N
(   To determine whether a calendar object resource matches the time) N
(   range filter element, the start and end times for the targeted) N
(   component or property are determined and then compared to the) N
(   requested time range.  If there is an overlap with the requested time) N
(   range, then the calendar object resource matches the filter element.) N
(   The rules defined in [RFC2445] for determining the actual start and) N
(   end times of calendar components MUST be used, and these are fully) N
(   enumerated in Section 9.9 of this document.) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 32]) N
() N
(rfc4791.txt) (Page 32/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (16/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (33-34) 17
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   When such time range filtering is used, special consideration must be) N
(   given to recurring calendar components, such as VEVENT and VTODO.) N
(   The server MUST expand recurring components to determine whether any) N
(   recurrence instances overlap the specified time range.  If one or) N
(   more recurrence instances overlap the time range, then the calendar) N
(   object resource matches the filter element.) N
() N
(7.5.  Searching Text: Collations) N
() N
(   Some of the reports defined in this section do text matches of) N
(   character strings provided by the client and are compared to stored) N
(   calendar data.  Since iCalendar data is, by default, encoded in the) N
(   UTF-8 charset and may include characters outside the US-ASCII charset) N
(   range in some property and parameter values, there is a need to) N
(   ensure that text matching follows well-defined rules.) N
() N
(   To deal with this, this specification makes use of the IANA Collation) N
(   Registry defined in [RFC4790] to specify collations that may be used) N
(   to carry out the text comparison operations with a well-defined rule.) N
() N
(   The comparisons used in CalDAV are all "substring" matches, as per) N
(   [RFC4790], Section 4.2.  Collations supported by the server MUST) N
(   support "substring" match operations.) N
() N
(   CalDAV servers are REQUIRED to support the "i;ascii-casemap" and) N
(   "i;octet" collations, as described in [RFC4790], and MAY support) N
(   other collations.) N
() N
(   Servers MUST advertise the set of collations that they support via) N
(   the CALDAV:supported-collation-set property defined on any resource) N
(   that supports reports that use collations.) N
() N
(   Clients MUST only use collations from the list advertised by the) N
(   server.) N
() N
(   In the absence of a collation explicitly specified by the client, or) N
(   if the client specifies the "default" collation identifier \(as) N
(   defined in [RFC4790], Section 3.1\), the server MUST default to using) N
(   "i;ascii-casemap" as the collation.) N
() N
(   Wildcards \(as defined in [RFC4790], Section 3.2\) MUST NOT be used in) N
(   the collation identifier.) N
() N
(   If the client chooses a collation not supported by the server, the) N
(   server MUST respond with a CALDAV:supported-collation precondition) N
(   error response.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 33]) N
() N
(rfc4791.txt) (Page 33/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.5.1.  CALDAV:supported-collation-set Property) N
() N
(   Name:  supported-collation-set) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Identifies the set of collations supported by the server) N
(      for text matching operations.) N
() N
(   Conformance:  This property MUST be defined on any resource that) N
(      supports a report that does text matching.  If defined, it MUST be) N
(      protected and SHOULD NOT be returned by a PROPFIND DAV:allprop) N
(      request \(as defined in Section 12.14.1 of [RFC2518]\).) N
() N
(   Description:  The CALDAV:supported-collation-set property contains) N
(      zero or more CALDAV:supported-collation elements, which specify) N
(      the collection identifiers of the collations supported by the) N
(      server.) N
() N
(   Definition:) N
() N
(         <!ELEMENT supported-collation-set \(supported-collation*\)>) N
() N
(         <!ELEMENT supported-collation \(#PCDATA\)>) N
() N
(   Example:) N
() N
(       <C:supported-collation-set) N
(           xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(         <C:supported-collation>i;ascii-casemap</C:supported-collation>) N
(         <C:supported-collation>i;octet</C:supported-collation>) N
(       </C:supported-collation-set>) N
() N
(7.6.  Partial Retrieval) N
() N
(   Some calendaring reports defined in this document allow partial) N
(   retrieval of calendar object resources.  A CalDAV client can specify) N
(   what information to return in the body of a calendaring REPORT) N
(   request.) N
() N
(   A CalDAV client can request particular WebDAV property values, all) N
(   WebDAV property values, or a list of the names of the resource's) N
(   WebDAV properties.  A CalDAV client can also request calendar data to) N
(   be returned and specify whether all calendar components and) N
(   properties should be returned, or only particular ones.  See CALDAV:) N
(   calendar-data in Section 9.6.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 34]) N
() N
(rfc4791.txt) (Page 34/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (17/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (35-36) 18
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   By default, the returned calendar data will include the component) N
(   that defines the recurrence set, referred to as the "master) N
(   component", as well as the components that define exceptions to the) N
(   recurrence set, referred to as the "overridden components".) N
() N
(   A CalDAV client that is only interested in the recurrence instances) N
(   that overlap a specified time range can request to receive only the) N
(   "master component", along with the "overridden components" that) N
(   impact the specified time range, and thus, limit the data returned by) N
(   the server \(see CALDAV:limit-recurrence-set in Section 9.6.6\).  An) N
(   overridden component impacts a time range if its current start and) N
(   end times overlap the time range, or if the original start and end) N
(   times -- the ones that would have been used if the instance were not) N
(   overridden -- overlap the time range, or if it affects other) N
(   instances that overlap the time range.) N
() N
(   A CalDAV client with no support for recurrence properties \(i.e.,) N
(   EXDATE, EXRULE, RDATE, and RRULE\) and possibly VTIMEZONE components,) N
(   or a client unwilling to perform recurrence expansion because of) N
(   limited processing capability, can request to receive only the) N
(   recurrence instances that overlap a specified time range as separate) N
(   calendar components that each define exactly one recurrence instance) N
(   \(see CALDAV:expand in Section 9.6.5.\)) N
() N
(   Finally, in the case of VFREEBUSY components, a CalDAV client can) N
(   request to receive only the FREEBUSY property values that overlap a) N
(   specified time range \(see CALDAV:limit-freebusy-set in) N
(   Section 9.6.7.\)) N
() N
(7.7.  Non-Standard Components, Properties, and Parameters) N
() N
(   Servers MUST support the use of non-standard component, property, or) N
(   parameter names in the CALDAV:calendar-data XML element in) N
(   calendaring REPORT requests to allow clients to request that non-) N
(   standard components, properties, and parameters be returned in the) N
(   calendar data provided in the response.) N
() N
(   Servers MAY support the use of non-standard component, property, or) N
(   parameter names in the CALDAV:comp-filter, CALDAV:prop-filter, and) N
(   CALDAV:param-filter XML elements specified in the CALDAV:filter XML) N
(   element of calendaring REPORT requests.) N
() N
(   Servers MUST fail with the CALDAV:supported-filter precondition if a) N
(   calendaring REPORT request uses a CALDAV:comp-filter, CALDAV:prop-) N
(   filter, or CALDAV:param-filter XML element that makes reference to a) N
(   non-standard component, property, or parameter name on which the) N
(   server does not support queries.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 35]) N
() N
(rfc4791.txt) (Page 35/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.8.  CALDAV:calendar-query REPORT) N
() N
(   The CALDAV:calendar-query REPORT performs a search for all calendar) N
(   object resources that match a specified filter.  The response of this) N
(   report will contain all the WebDAV properties and calendar object) N
(   resource data specified in the request.  In the case of the CALDAV:) N
(   calendar-data XML element, one can explicitly specify the calendar) N
(   components and properties that should be returned in the calendar) N
(   object resource data that matches the filter.) N
() N
(   The format of this report is modeled on the PROPFIND method.  The) N
(   request and response bodies of the CALDAV:calendar-query REPORT use) N
(   XML elements that are also used by PROPFIND.  In particular, the) N
(   request can include XML elements to request WebDAV properties to be) N
(   returned.  When that occurs, the response should follow the same) N
(   behavior as PROPFIND with respect to the DAV:multistatus response) N
(   elements used to return specific property results.  For instance, a) N
(   request to retrieve the value of a property that does not exist is an) N
(   error and MUST be noted with a response XML element that contains a) N
(   404 \(Not Found\) status value.) N
() N
(   Support for the CALDAV:calendar-query REPORT is REQUIRED.) N
() N
(   Marshalling:) N
() N
(      The request body MUST be a CALDAV:calendar-query XML element, as) N
(      defined in Section 9.5.) N
() N
(      The request MAY include a Depth header.  If no Depth header is) N
(      included, Depth:0 is assumed.) N
() N
(      The response body for a successful request MUST be a DAV:) N
(      multistatus XML element \(i.e., the response uses the same format) N
(      as the response for PROPFIND\).  In the case where there are no) N
(      response elements, the returned DAV:multistatus XML element is) N
(      empty.) N
() N
(      The response body for a successful CALDAV:calendar-query REPORT) N
(      request MUST contain a DAV:response element for each iCalendar) N
(      object that matched the search filter.  Calendar data is being) N
(      returned in the CALDAV:calendar-data XML element inside the DAV:) N
(      propstat XML element.) N
() N
(   Preconditions:) N
() N
(      \(CALDAV:supported-calendar-data\): The attributes "content-type") N
(      and "version" of the CALDAV:calendar-data XML element \(see) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 36]) N
() N
(rfc4791.txt) (Page 36/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (18/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (37-38) 19
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      Section 9.6\) specify a media type supported by the server for) N
(      calendar object resources.) N
() N
(      \(CALDAV:valid-filter\): The CALDAV:filter XML element \(see) N
(      Section 9.7\) specified in the REPORT request MUST be valid.  For) N
(      instance, a CALDAV:filter cannot nest a <C:comp name="VEVENT">) N
(      element in a <C:comp name="VTODO"> element, and a CALDAV:filter) N
(      cannot nest a <C:time-range start="..." end="..."> element in a) N
(      <C:prop name="SUMMARY"> element.) N
() N
(      \(CALDAV:supported-filter\): The CALDAV:comp-filter \(see) N
(      Section 9.7.1\), CALDAV:prop-filter \(see Section 9.7.2\), and) N
(      CALDAV:param-filter \(see Section 9.7.3\) XML elements used in the) N
(      CALDAV:filter XML element \(see Section 9.7\) in the REPORT request) N
(      only make reference to components, properties, and parameters for) N
(      which queries are supported by the server, i.e., if the CALDAV:) N
(      filter element attempts to reference an unsupported component,) N
(      property, or parameter, this precondition is violated.  Servers) N
(      SHOULD report the CALDAV:comp-filter, CALDAV:prop-filter, or) N
(      CALDAV:param-filter for which it does not provide support.) N
() N
(            <!ELEMENT supported-filter \(comp-filter*,) N
(                                        prop-filter*,) N
(                                        param-filter*\)>) N
() N
(      \(CALDAV:valid-calendar-data\): The time zone specified in the) N
(      REPORT request MUST be a valid iCalendar object containing a) N
(      single valid VTIMEZONE component.) N
() N
(      \(CALDAV:min-date-time\): Any XML element specifying a range of time) N
(      MUST have its start or end DATE or DATE-TIME values greater than) N
(      or equal to the value of the CALDAV:min-date-time property value) N
(      \(Section 5.2.6\) on the calendar collections being targeted by the) N
(      REPORT request;) N
() N
(      \(CALDAV:max-date-time\): Any XML element specifying a range of time) N
(      MUST have its start or end DATE or DATE-TIME values less than or) N
(      equal to the value of the CALDAV:max-date-time property value) N
(      \(Section 5.2.7\) on the calendar collections being targeted by the) N
(      REPORT request;) N
() N
(      \(CALDAV:supported-collation\): Any XML attribute specifying a) N
(      collation MUST specify a collation supported by the server as) N
(      described in Section 7.5.) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 37]) N
() N
(rfc4791.txt) (Page 37/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Postconditions:) N
() N
(      \(DAV:number-of-matches-within-limits\): The number of matching) N
(      calendar object resources must fall within server-specific,) N
(      predefined limits.  For example, this condition might be triggered) N
(      if a search specification would cause the return of an extremely) N
(      large number of responses.) N
() N
(7.8.1.  Example: Partial Retrieval of Events by Time Range) N
() N
(   In this example, the client requests the server to return specific) N
(   components and properties of the VEVENT components that overlap the) N
(   time range from January 4, 2006, at 00:00:00 A.M. UTC to January 5,) N
(   2006, at 00:00:00 A.M. UTC.  In addition, the DAV:getetag property is) N
(   also requested and returned as part of the response.  Note that the) N
(   first calendar object returned is a recurring event whose first) N
(   instance lies outside the requested time range, but whose third) N
(   instance does overlap the time range.  Note that due to the CALDAV:) N
(   calendar-data element restrictions, the DTSTAMP property in VEVENT) N
(   components has not been returned, and the only property returned in) N
(   the VCALENDAR object is VERSION.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 38]) N
() N
(rfc4791.txt) (Page 38/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (19/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (39-40) 20
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                 xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <D:getetag/>) N
(       <C:calendar-data>) N
(         <C:comp name="VCALENDAR">) N
(           <C:prop name="VERSION"/>) N
(           <C:comp name="VEVENT">) N
(             <C:prop name="SUMMARY"/>) N
(             <C:prop name="UID"/>) N
(             <C:prop name="DTSTART"/>) N
(             <C:prop name="DTEND"/>) N
(             <C:prop name="DURATION"/>) N
(             <C:prop name="RRULE"/>) N
(             <C:prop name="RDATE"/>) N
(             <C:prop name="EXRULE"/>) N
(             <C:prop name="EXDATE"/>) N
(             <C:prop name="RECURRENCE-ID"/>) N
(           </C:comp>) N
(           <C:comp name="VTIMEZONE"/>) N
(         </C:comp>) N
(       </C:calendar-data>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:time-range start="20060104T000000Z") N
(                         end="20060105T000000Z"/>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 39]) N
() N
(rfc4791.txt) (Page 39/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(              xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd2"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTART;TZID=US/Eastern:20060102T120000) N
(   DURATION:PT1H) N
(   RRULE:FREQ=DAILY;COUNT=5) N
(   SUMMARY:Event #2) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTART;TZID=US/Eastern:20060104T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060104T120000) N
(   SUMMARY:Event #2 bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTART;TZID=US/Eastern:20060106T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060106T120000) N
(   SUMMARY:Event #2 bis bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 40]) N
() N
(rfc4791.txt) (Page 40/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (20/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (41-42) 21
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 41]) N
() N
(rfc4791.txt) (Page 41/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.8.2.  Example: Partial Retrieval of Recurring Events) N
() N
(   In this example, the client requests the server to return VEVENT) N
(   components that overlap the time range from January 3, 2006, at 00:) N
(   00:00 A.M. UTC to January 5, 2006, at 00:00:00 A.M. UTC.  Use of the) N
(   CALDAV:limit-recurrence-set element causes the server to only return) N
(   overridden recurrence components that overlap the time range) N
(   specified in that element or that affect other instances that overlap) N
(   the time range \(e.g., in the case of a THISANDFUTURE behavior\).  In) N
(   this example, the first overridden component in the matching resource) N
(   is returned, but the second one is not.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                     xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <C:calendar-data>) N
(         <C:limit-recurrence-set start="20060103T000000Z") N
(                                 end="20060105T000000Z"/>) N
(       </C:calendar-data>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:time-range start="20060103T000000Z") N
(                         end="20060105T000000Z"/>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 42]) N
() N
(rfc4791.txt) (Page 42/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (21/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (43-44) 22
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(              xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd2"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060102T120000) N
(   DURATION:PT1H) N
(   RRULE:FREQ=DAILY;COUNT=5) N
(   SUMMARY:Event #2) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060104T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060104T120000) N
(   SUMMARY:Event #2 bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 43]) N
() N
(rfc4791.txt) (Page 43/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 44]) N
() N
(rfc4791.txt) (Page 44/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (22/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (45-46) 23
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.8.3.  Example: Expanded Retrieval of Recurring Events) N
() N
(   In this example, the client requests the server to return VEVENT) N
(   components that overlap the time range from January 2, 2006, at 00:) N
(   00:00 A.M. UTC to January 5, 2006, at 00:00:00 A.M. UTC and to return) N
(   recurring calendar components expanded into individual recurrence) N
(   instance calendar components.  Use of the CALDAV:expand element) N
(   causes the server to only return overridden recurrence instances that) N
(   overlap the time range specified in that element.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                     xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <C:calendar-data>) N
(         <C:expand start="20060103T000000Z") N
(                   end="20060105T000000Z"/>) N
(       </C:calendar-data>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:time-range start="20060103T000000Z") N
(                         end="20060105T000000Z"/>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 45]) N
() N
(rfc4791.txt) (Page 45/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(              xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd2"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART:20060103T170000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID:20060103T170000) N
(   SUMMARY:Event #2) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART:20060104T190000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID:20060104T170000) N
(   SUMMARY:Event #2 bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART:20060104T150000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 46]) N
() N
(rfc4791.txt) (Page 46/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (23/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (47-48) 24
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 47]) N
() N
(rfc4791.txt) (Page 47/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.8.4.  Example: Partial Retrieval of Stored Free Busy Components) N
() N
(   In this example, the client requests the server to return the) N
(   VFREEBUSY components that have free busy information that overlap the) N
(   time range from January 2, 2006, at 00:00:00 A.M. UTC \(inclusively\)) N
(   to January 3, 2006, at 00:00:00 A.M. UTC \(exclusively\).  Use of the) N
(   CALDAV:limit-freebusy-set element causes the server to only return) N
(   the FREEBUSY property values that overlap the time range specified in) N
(   that element.  Note that this is not an example of discovering when) N
(   the calendar owner is busy.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                 xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <C:calendar-data>) N
(         <C:limit-freebusy-set start="20060102T000000Z") N
(                                 end="20060103T000000Z"/>) N
(       </C:calendar-data>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VFREEBUSY">) N
(           <C:time-range start="20060102T000000Z") N
(                           end="20060103T000000Z"/>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 48]) N
() N
(rfc4791.txt) (Page 48/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (24/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (49-50) 25
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd8.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd8"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VFREEBUSY) N
(   ORGANIZER;CN="Bernard Desruisseaux":mailto:bernard@example.com) N
(   UID:76ef34-54a3d2@example.com) N
(   DTSTAMP:20050530T123421Z) N
(   DTSTART:20060101T100000Z) N
(   DTEND:20060108T100000Z) N
(   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060102T100000Z/20060102T120000Z) N
(   END:VFREEBUSY) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 49]) N
() N
(rfc4791.txt) (Page 49/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.8.5.  Example: Retrieval of To-Dos by Alarm Time Range) N
() N
(   In this example, the client requests the server to return the VTODO) N
(   components that have an alarm trigger scheduled in the specified time) N
(   range.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VTODO">) N
(           <C:comp-filter name="VALARM">) N
(             <C:time-range start="20060106T100000Z") N
(                             end="20060107T100000Z"/>) N
(           </C:comp-filter>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 50]) N
() N
(rfc4791.txt) (Page 50/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (25/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (51-52) 26
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd4"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   DTSTAMP:20060205T235300Z) N
(   DUE;TZID=US/Eastern:20060106T120000) N
(   LAST-MODIFIED:20060205T235308Z) N
(   SEQUENCE:1) N
(   STATUS:NEEDS-ACTION) N
(   SUMMARY:Task #2) N
(   UID:E10BA47467C5C69BB74E8720@example.com) N
(   BEGIN:VALARM) N
(   ACTION:AUDIO) N
(   TRIGGER;RELATED=START:-PT10M) N
(   END:VALARM) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.8.6.  Example: Retrieval of Event by UID) N
() N
(   In this example, the client requests the server to return the VEVENT) N
(   component that has the UID property set to) N
(   "DC6C50A017428C5216A2F1CD@example.com".) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 51]) N
() N
(rfc4791.txt) (Page 51/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:prop-filter name="UID">) N
(             <C:text-match collation="i;octet") N
(             >DC6C50A017428C5216A2F1CD@example.com</C:text-match>) N
(           </C:prop-filter>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 52]) N
() N
(rfc4791.txt) (Page 52/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (26/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (53-54) 27
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.8.7.  Example: Retrieval of Events by PARTSTAT) N
() N
(   In this example, the client requests the server to return the VEVENT) N
(   components that have the ATTENDEE property with the value) N
(   "mailto:lisa@example.com" and for which the PARTSTAT parameter is set) N
(   to NEEDS-ACTION.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 53]) N
() N
(rfc4791.txt) (Page 53/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:prop-filter name="ATTENDEE">) N
(             <C:text-match collation="i;ascii-casemap") N
(              >mailto:lisa@example.com</C:text-match>) N
(             <C:param-filter name="PARTSTAT">) N
(               <C:text-match collation="i;ascii-casemap") N
(                >NEEDS-ACTION</C:text-match>) N
(             </C:param-filter>) N
(           </C:prop-filter>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 54]) N
() N
(rfc4791.txt) (Page 54/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (27/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (55-56) 28
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.8.8.  Example: Retrieval of Events Only) N
() N
(   In this example, the client requests the server to return all VEVENT) N
(   components.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 55]) N
() N
(rfc4791.txt) (Page 55/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT"/>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd1"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 56]) N
() N
(rfc4791.txt) (Page 56/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (28/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (57-58) 29
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001102Z) N
(   DTSTART;TZID=US/Eastern:20060102T100000) N
(   DURATION:PT1H) N
(   SUMMARY:Event #1) N
(   Description:Go Steelers!) N
(   UID:74855313FA803DA593CD579A@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd2"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 57]) N
() N
(rfc4791.txt) (Page 57/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060102T120000) N
(   DURATION:PT1H) N
(   RRULE:FREQ=DAILY;COUNT=5) N
(   SUMMARY:Event #2) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060104T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060104T120000) N
(   SUMMARY:Event #2 bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060106T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060106T120000) N
(   SUMMARY:Event #2 bis bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 58]) N
() N
(rfc4791.txt) (Page 58/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (29/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (59-60) 30
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.8.9.  Example: Retrieval of All Pending To-Dos) N
() N
(   In this example, the client requests the server to return all VTODO) N
(   components that do not include a COMPLETED property and do not have a) N
(   STATUS property value matching CANCELLED, i.e., VTODOs that still) N
(   need to be worked on.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 59]) N
() N
(rfc4791.txt) (Page 59/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VTODO">) N
(           <C:prop-filter name="COMPLETED">) N
(             <C:is-not-defined/>) N
(           </C:prop-filter>) N
(           <C:prop-filter name="STATUS">) N
(             <C:text-match) N
(                negate-condition="yes">CANCELLED</C:text-match>) N
(           </C:prop-filter>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd4"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 60]) N
() N
(rfc4791.txt) (Page 60/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (30/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (61-62) 31
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   DTSTAMP:20060205T235335Z) N
(   DUE;VALUE=DATE:20060104) N
(   STATUS:NEEDS-ACTION) N
(   SUMMARY:Task #1) N
(   UID:DDDEEB7915FA61233B861457@example.com) N
(   BEGIN:VALARM) N
(   ACTION:AUDIO) N
(   TRIGGER;RELATED=START:-PT10M) N
(   END:VALARM) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd5.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd5"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   DTSTAMP:20060205T235300Z) N
(   DUE;VALUE=DATE:20060106) N
(   LAST-MODIFIED:20060205T235308Z) N
(   SEQUENCE:1) N
(   STATUS:NEEDS-ACTION) N
(   SUMMARY:Task #2) N
(   UID:E10BA47467C5C69BB74E8720@example.com) N
(   BEGIN:VALARM) N
(   ACTION:AUDIO) N
(   TRIGGER;RELATED=START:-PT10M) N
(   END:VALARM) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(   </D:multistatus>) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 61]) N
() N
(rfc4791.txt) (Page 61/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.8.10.  Example: Attempt to Query Unsupported Property) N
() N
(   In this example, the client requests the server to return all VEVENT) N
(   components that include an X-ABC-GUID property with a value matching) N
(   "ABC".  However, the server does not support querying that non-) N
(   standard property, and instead returns an error response.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop xmlns:D="DAV:">) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:prop-filter name="X-ABC-GUID">) N
(             <C:text-match>ABC</C:text-match>) N
(           </C:prop-filter>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 403 Forbidden) N
(   Date: Sat, 11 Nov 2005 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:error>) N
(     <C:supported-filter>) N
(       <C:prop-filter name="X-ABC-GUID"/>) N
(     </C:supported-filter>) N
(   </D:error>) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 62]) N
() N
(rfc4791.txt) (Page 62/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (31/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (63-64) 32
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.9.  CALDAV:calendar-multiget REPORT) N
() N
(   The CALDAV:calendar-multiget REPORT is used to retrieve specific) N
(   calendar object resources from within a collection, if the Request-) N
(   URI is a collection, or to retrieve a specific calendar object) N
(   resource, if the Request-URI is a calendar object resource.  This) N
(   report is similar to the CALDAV:calendar-query REPORT \(see) N
(   Section 7.8\), except that it takes a list of DAV:href elements,) N
(   instead of a CALDAV:filter element, to determine which calendar) N
(   object resources to return.) N
() N
(   Support for the CALDAV:calendar-multiget REPORT is REQUIRED.) N
() N
(   Marshalling:) N
() N
(      The request body MUST be a CALDAV:calendar-multiget XML element) N
(      \(see Section 9.10\).  If the Request-URI is a collection resource,) N
(      then the DAV:href elements MUST refer to calendar object resources) N
(      within that collection, and they MAY refer to calendar object) N
(      resources at any depth within the collection.  As a result, the) N
(      "Depth" header MUST be ignored by the server and SHOULD NOT be) N
(      sent by the client.  If the Request-URI refers to a non-collection) N
(      resource, then there MUST be a single DAV:href element that is) N
(      equivalent to the Request-URI.) N
() N
(      The response body for a successful request MUST be a DAV:) N
(      multistatus XML element.) N
() N
(      The response body for a successful CALDAV:calendar-multiget REPORT) N
(      request MUST contain a DAV:response element for each calendar) N
(      object resource referenced by the provided set of DAV:href) N
(      elements.  Calendar data is being returned in the CALDAV:calendar-) N
(      data element inside the DAV:prop element.) N
() N
(      In the case of an error accessing any of the provided DAV:href) N
(      resources, the server MUST return the appropriate error status) N
(      code in the DAV:status element of the corresponding DAV:response) N
(      element.) N
() N
(   Preconditions:) N
() N
(      \(CALDAV:supported-calendar-data\): The attributes "content-type") N
(      and "version" of the CALDAV:calendar-data XML elements \(see) N
(      Section 9.6\) specify a media type supported by the server for) N
(      calendar object resources.) N
() N
(      \(CALDAV:min-date-time\): Any XML element specifying a range of time) N
(      MUST have its start or end DATE or DATE-TIME values greater than) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 63]) N
() N
(rfc4791.txt) (Page 63/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      or equal to the value of the CALDAV:min-date-time property value) N
(      \(Section 5.2.6\) on the calendar collections being targeted by the) N
(      REPORT request;) N
() N
(      \(CALDAV:max-date-time\): Any XML element specifying a range of time) N
(      MUST have its start or end DATE or DATE-TIME values less than or) N
(      equal to the value of the CALDAV:max-date-time property value) N
(      \(Section 5.2.7\) on the calendar collections being targeted by the) N
(      REPORT request;) N
() N
(   Postconditions:) N
() N
(      None.) N
() N
(7.9.1.  Example: Successful CALDAV:calendar-multiget REPORT) N
() N
(   In this example, the client requests the server to return specific) N
(   properties of the VEVENT components referenced by specific URIs.  In) N
(   addition, the DAV:getetag property is also requested and returned as) N
(   part of the response.  Note that in this example, the resource at) N
(   http://cal.example.com/bernard/work/mtg1.ics does not exist,) N
(   resulting in an error status response.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-multiget xmlns:D="DAV:") N
(                    xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <D:href>/bernard/work/abcd1.ics</D:href>) N
(     <D:href>/bernard/work/mtg1.ics</D:href>) N
(   </C:calendar-multiget>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: application/xml; charset="utf-8") N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 64]) N
() N
(rfc4791.txt) (Page 64/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (32/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (65-66) 33
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                  xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd1"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001102Z) N
(   DTSTART;TZID=US/Eastern:20060102T100000) N
(   DURATION:PT1H) N
(   SUMMARY:Event #1) N
(   Description:Go Steelers!) N
(   UID:74855313FA803DA593CD579A@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/mtg1.ics</D:href>) N
(       <D:status>HTTP/1.1 404 Not Found</D:status>) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 65]) N
() N
(rfc4791.txt) (Page 65/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(     </D:response>) N
(   </D:multistatus>) N
() N
(7.10.  CALDAV:free-busy-query REPORT) N
() N
(   The CALDAV:free-busy-query REPORT generates a VFREEBUSY component) N
(   containing free busy information for all the calendar object) N
(   resources targeted by the request and that have the CALDAV:read-free-) N
(   busy or DAV:read privilege granted to the current user.) N
() N
(   Only VEVENT components without a TRANSP property or with the TRANSP) N
(   property set to OPAQUE, and VFREEBUSY components SHOULD be considered) N
(   in generating the free busy time information.) N
() N
(   In the case of VEVENT components, the free or busy time type \(FBTYPE\)) N
(   of the FREEBUSY properties in the returned VFREEBUSY component SHOULD) N
(   be derived from the value of the TRANSP and STATUS properties, as) N
(   outlined in the table below:) N
() N
(         +---------------------------++------------------+) N
(         |          VEVENT           ||    VFREEBUSY     |) N
(         +-------------+-------------++------------------+) N
(         | TRANSP      | STATUS      || FBTYPE           |) N
(         +=============+=============++==================+) N
(         |             | CONFIRMED   || BUSY             |) N
(         |             | \(default\)   ||                  |) N
(         | OPAQUE      +-------------++------------------+) N
(         | \(default\)   | CANCELLED   || FREE             |) N
(         |             +-------------++------------------+) N
(         |             | TENTATIVE   || BUSY-TENTATIVE   |) N
(         |             +-------------++------------------+) N
(         |             | x-name      || BUSY or          |) N
(         |             |             || x-name           |) N
(         +-------------+-------------++------------------+) N
(         |             | CONFIRMED   ||                  |) N
(         | TRANSPARENT | CANCELLED   || FREE             |) N
(         |             | TENTATIVE   ||                  |) N
(         |             | x-name      ||                  |) N
(         +-------------+-------------++------------------+) N
() N
(   Duplicate busy time periods with the same FBTYPE parameter value) N
(   SHOULD NOT be specified in the returned VFREEBUSY component.  Servers) N
(   SHOULD coalesce consecutive or overlapping busy time periods of the) N
(   same type.  Busy time periods with different FBTYPE parameter values) N
(   MAY overlap.) N
() N
(   Support for the CALDAV:free-busy-query REPORT is REQUIRED.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 66]) N
() N
(rfc4791.txt) (Page 66/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (33/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (67-68) 34
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Marshalling:) N
() N
(      The request body MUST be a CALDAV:free-busy-query XML element \(see) N
(      Section 9.11\), which MUST contain exactly one CALDAV:time-range) N
(      XML element, as defined in Section 9.9.) N
() N
(      The request MAY include a Depth header.  If no Depth header is) N
(      included, Depth:0 is assumed.) N
() N
(      The response body for a successful request MUST be an iCalendar) N
(      object that contains exactly one VFREEBUSY component that) N
(      describes the busy time intervals for the calendar object) N
(      resources containing VEVENT, or VFREEBUSY components that satisfy) N
(      the Depth value and for which the current user is at least granted) N
(      the CALDAV:read-free-busy privilege.  If no calendar object) N
(      resources are found to satisfy these conditions, a VFREEBUSY) N
(      component with no FREEBUSY property MUST be returned.  This report) N
(      only returns busy time information.  Free time information can be) N
(      inferred from the returned busy time information.) N
() N
(      If the current user is not granted the CALDAV:read-free-busy or) N
(      DAV:read privileges on the Request-URI, the CALDAV:free-busy-query) N
(      REPORT request MUST fail and return a 404 \(Not Found\) status) N
(      value.  This restriction will prevent users from discovering URLs) N
(      of resources for which they are only granted the CALDAV:read-free-) N
(      busy privilege.) N
() N
(      The CALDAV:free-busy-query REPORT request can only be run against) N
(      a collection \(either a regular collection or a calendar) N
(      collection\).  An attempt to run the report on a calendar object) N
(      resource MUST fail and return a 403 \(Forbidden\) status value.) N
() N
(   Preconditions:) N
() N
(      None.) N
() N
(   Postconditions:) N
() N
(      \(DAV:number-of-matches-within-limits\): The number of matching) N
(      calendar object resources must fall within server-specific,) N
(      predefined limits.  For example, this postcondition might fail if) N
(      the specified CALDAV:time-range would cause an extremely large) N
(      number of calendar object resources to be considered in computing) N
(      the response.) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 67]) N
() N
(rfc4791.txt) (Page 67/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(7.10.1.  Example: Successful CALDAV:free-busy-query REPORT) N
() N
(   In this example, the client requests the server to return free busy) N
(   information on the calendar collection /bernard/work/, between 9:00) N
(   A.M. and 5:00 P.M. EST \(2:00 P.M. and 10:00 P.M. UTC\) on the January) N
(   4, 2006.  The server responds, indicating two busy time intervals of) N
(   one hour, one of which is tentative.) N
() N
(   See Appendix B for the calendar data being targeted by this example.) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:free-busy-query xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <C:time-range start="20060104T140000Z") N
(                     end="20060105T220000Z"/>) N
(   </C:free-busy-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 200 OK) N
(   Date: Sat, 11 Nov 2006 09:32:12 GMT) N
(   Content-Type: text/calendar) N
(   Content-Length: xxxx) N
() N
(   BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Server//EN) N
(   BEGIN:VFREEBUSY) N
(   DTSTAMP:20050125T090000Z) N
(   DTSTART:20060104T140000Z) N
(   DTEND:20060105T220000Z) N
(   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060104T150000Z/PT1H) N
(   FREEBUSY:20060104T190000Z/PT1H) N
(   END:VFREEBUSY) N
(   END:VCALENDAR) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 68]) N
() N
(rfc4791.txt) (Page 68/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (34/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (69-70) 35
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(8.  Guidelines) N
() N
(8.1.  Client-to-Client Interoperability) N
() N
(   There are a number of actions clients can take that will be legal) N
(   \(the server will not return errors\), but that can degrade) N
(   interoperability with other client implementations accessing the same) N
(   data.  For example, a recurrence rule could be replaced with a set of) N
(   recurrence dates, a single recurring event could be replaced with a) N
(   set of independent resources to represent each recurrence, or the) N
(   start/end time values can be translated from the original time zone) N
(   to another time zone.  Although this advice amounts to iCalendar) N
(   interoperability best practices and is not limited only to CalDAV) N
(   usage, interoperability problems are likely to be more evident in) N
(   CalDAV use cases.) N
() N
(8.2.  Synchronization Operations) N
() N
(   WebDAV already provides functionality required to synchronize a) N
(   collection or set of collections, to make changes offline, and) N
(   provides a simple way to resolve conflicts when reconnected.  ETags) N
(   are the key to making this work, but these are not required of all) N
(   WebDAV servers.  Since offline functionality is more important to) N
(   calendar applications than to some other WebDAV applications, CalDAV) N
(   servers MUST support ETags, as specified in Section 5.3.4.) N
() N
(8.2.1.  Use of Reports) N
() N
(8.2.1.1.  Restrict the Time Range) N
() N
(   The reports provided in CalDAV can be used by clients to optimize) N
(   their performance in terms of network bandwidth usage and resource) N
(   consumption on the local client machine.  Both are certainly major) N
(   considerations for mobile or handheld devices with limited capacity,) N
(   but they are also relevant to desktop client applications in cases) N
(   where the calendar collections contain large amounts of data.) N
() N
(   Typically, clients present calendar data to users in views that span) N
(   a finite time interval, so whenever possible, clients should only) N
(   retrieve calendar components from the server using CALDAV:calendar-) N
(   query REPORT, combined with a CALDAV:time-range element, to limit the) N
(   set of returned components to just those needed to populate the) N
(   current view.) N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 69]) N
() N
(rfc4791.txt) (Page 69/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(8.2.1.2.  Synchronize by Time Range) N
() N
(   Typically in a calendar, historical data \(events, to-dos, etc. that) N
(   have completed prior to the current date\) do not change, though they) N
(   may be deleted.  As a result, a client can speed up the) N
(   synchronization process by only considering data for the present time) N
(   and the future up to a reasonable limit \(e.g., one week, one month\).) N
(   If the user then tries to examine a portion of the calendar outside) N
(   the range that has been synchronized, the client can perform another) N
(   synchronization operation on the new time interval being examined.) N
(   This "just-in-time" synchronization can minimize bandwidth for common) N
(   user interaction behaviors.) N
() N
(8.2.1.3.  Synchronization Process) N
() N
(   If a client wants to support calendar data synchronization, as) N
(   opposed to downloading calendar data each time it is needed, the) N
(   client needs to cache the calendar object resource's URI and ETag,) N
(   along with the actual calendar data.  While the URI remains static) N
(   for the lifetime of the calendar object resource, the ETag will) N
(   change with each successive change to the calendar object resource.) N
(   Thus, to synchronize a local data cache with the server, the client) N
(   can first fetch the URI/ETag pairs for the time interval being) N
(   considered, and compare those results with the cached data.  Any) N
(   cached component whose ETag differs from that on the server needs to) N
(   be refreshed.) N
() N
(   In order to properly detect the changes between the server and client) N
(   data, the client will need to keep a record of which calendar object) N
(   resources have been created, changed, or deleted since the last) N
(   synchronization operation so that it can reconcile those changes with) N
(   the data on the server.) N
() N
(   Here's an example of how to do that:) N
() N
(   The client issues a CALDAV:calendar-query REPORT request for a) N
(   specific time range and asks for only the DAV:getetag property to be) N
(   returned:) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 70]) N
() N
(rfc4791.txt) (Page 70/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (35/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (71-72) 36
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                     xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <D:getetag/>) N
(     </D:prop>) N
(     <C:filter>) N
(       <C:comp-filter name="VCALENDAR">) N
(         <C:comp-filter name="VEVENT">) N
(           <C:time-range start="20040902T000000Z") N
(                           end="20040903T000000Z"/>) N
(         </C:comp-filter>) N
(       </C:comp-filter>) N
(     </C:filter>) N
(   </C:calendar-query>) N
() N
(   The client then uses the results to determine which calendar object) N
(   resources have changed, been created, or deleted on the server, and) N
(   how those relate to locally cached calendar object resources that may) N
(   have changed, been created, or deleted.  If the client determines) N
(   that there are calendar object resources on the server that need to) N
(   be fetched, the client issues a CALDAV:calendar-multiget REPORT) N
(   request to fetch its calendar data:) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-multiget xmlns:D="DAV:") N
(                        xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(     <D:prop>) N
(       <D:getetag/>) N
(       <C:calendar-data/>) N
(     </D:prop>) N
(     <D:href>/bernard/work/abcd1.ics</D:href>) N
(     <D:href>/bernard/work/mtg1.ics</D:href>) N
(   </C:calendar-multiget>) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 71]) N
() N
(rfc4791.txt) (Page 71/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(8.2.2.  Restrict the Properties Returned) N
() N
(   A client may not need all the calendar properties of a calendar) N
(   object resource when presenting information to the user.  Since some) N
(   calendar property values can be large \(e.g., ATTACH or ATTENDEE\), a) N
(   client can choose to restrict the calendar properties to be returned) N
(   in a calendaring REPORT request to those it knows it will use.) N
() N
(   However, if a client needs to make a change to a calendar object) N
(   resource, it can only change the entire calendar object resource via) N
(   a PUT request.  There is currently no way to incrementally make a) N
(   change to a set of calendar properties of a calendar object resource.) N
(   As a result, the client will have to get the entire calendar object) N
(   resource that is being changed.) N
() N
(8.3.  Use of Locking) N
() N
(   WebDAV locks can be used to prevent two clients that are modifying) N
(   the same resource from either overwriting each others' changes) N
(   \(though that problem can also be solved by using ETags\) or wasting) N
(   time making changes that will conflict with another set of changes.) N
(   In a multi-user calendar system, an interactive calendar client could) N
(   lock an event while the user is editing the event, and unlock the) N
(   event when the user finishes or cancels.  Locks can also be used to) N
(   prevent changes while data is being reorganized.  For example, a) N
(   calendar client might lock two calendar collections prior to moving a) N
(   bunch of calendar resources from one to another.) N
() N
(   Clients are responsible for requesting a lock timeout period that is) N
(   appropriate to the use case.  When the user explicitly decides to) N
(   reserve a resource and prevent other changes, a long timeout might be) N
(   appropriate, but in cases where the client automatically decides to) N
(   lock the resource, the timeout should be short \(and the client can) N
(   always refresh the lock should it need to\).  A short lock timeout) N
(   means that if the client is unable to remove the lock, the other) N
(   calendar users aren't prevented from making changes.) N
() N
(8.4.  Finding Calendars) N
() N
(   Much of the time, a calendar client \(or agent\) will discover a new) N
(   calendar's location by being provided directly with the URL.  For) N
(   example, a user will type his or her own calendar location into) N
(   client configuration information or copy and paste a URL from email) N
(   into the calendar application.  The client need only confirm that the) N
(   URL points to a resource that is a calendar collection.  The client) N
(   may also be able to browse WebDAV collections to find calendar) N
(   collections.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 72]) N
() N
(rfc4791.txt) (Page 72/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (36/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (73-74) 37
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   The choice of HTTP URLs means that calendar object resources are) N
(   backward compatible with existing software, but does have the) N
(   disadvantage that existing software does not usually know to look at) N
(   the OPTIONS response to that URL to determine what can be done with) N
(   it.  This is somewhat of a barrier for WebDAV usage as well as with) N
(   CalDAV usage.  This specification does not offer a way through this) N
(   other than making the information available in the OPTIONS response) N
(   should this be requested.) N
() N
(   For calendar sharing and scheduling use cases, one might wish to find) N
(   the calendar belonging to another user.  If the other user has a) N
(   calendar in the same repository, that calendar can be found by using) N
(   the principal namespace required by WebDAV ACL support.  For other) N
(   cases, the authors have no universal solution, but implementers can) N
(   consider whether to use vCard [RFC2426] or LDAP [RFC4511] standards) N
(   together with calendar attributes [RFC2739].) N
() N
(   Because CalDAV requires servers to support WebDAV ACL [RFC3744],) N
(   including principal namespaces, and with the addition of the CALDAV:) N
(   calendar-home-set property, there are a couple options for CalDAV) N
(   clients to find one's own calendar or another user's calendar.) N
() N
(   In this case, a DAV:principal-match REPORT is used to find a named) N
(   property \(the CALDAV:calendar-home-set\) on the Principal-URL of the) N
(   current user.  Using this, a WebDAV client can learn "who am I" and) N
(   "where are my calendars".  The REPORT request body looks like this:) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:principal-match xmlns:D="DAV:">) N
(     <D:self/>) N
(     <D:prop>) N
(       <C:calendar-home-set) N
(          xmlns:C="urn:ietf:params:xml:ns:caldav"/>) N
(     </D:prop>) N
(   </D:principal-match>) N
() N
(   To find other users' calendars, the DAV:principal-property-search) N
(   REPORT can be used to filter on some properties and return others.) N
(   To search for a calendar owned by a user named "Laurie", the REPORT) N
(   request body would look like this:) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 73]) N
() N
(rfc4791.txt) (Page 73/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:principal-property-search xmlns:D="DAV:">) N
(     <D:property-search>) N
(       <D:prop>) N
(         <D:displayname/>) N
(       </D:prop>) N
(       <D:match>Laurie</D:match>) N
(     </D:property-search>) N
(     <D:prop>) N
(       <C:calendar-home-set) N
(          xmlns:C="urn:ietf:params:xml:ns:caldav"/>) N
(       <D:displayname/>) N
(     </D:prop>) N
(   </D:principal-property-search>) N
() N
(   The server performs a case-sensitive or caseless search for a) N
(   matching string subset of "Laurie" within the DAV:displayname) N
(   property.  Thus, the server might return "Laurie Dusseault", "Laurier) N
(   Desruisseaux", or "Wilfrid Laurier" as matching DAV:displayname) N
(   values, and return the calendars for each of these.) N
() N
(8.5.  Storing and Using Attachments) N
() N
(   CalDAV clients MAY create attachments in calendar components either) N
(   as inline or external.  This section contains some guidelines for) N
(   creating and managing attachments.) N
() N
(8.5.1.  Inline Attachments) N
() N
(   CalDAV clients MUST support inline attachments as specified in) N
(   iCalendar [RFC2445].  CalDAV servers MUST support inline attachments,) N
(   so clients can rely on being able to create attachments this way.  On) N
(   the other hand, inline attachments have some drawbacks:) N
() N
(   o  Servers MAY impose limitations on the size of calendar object) N
(      resources \(i.e., refusing PUT requests of very large iCalendar) N
(      objects\).  Servers that impose such limitations MUST use the) N
(      CALDAV:max-resource-size property on a calendar collection to) N
(      inform the client as to what the limitation is \(see) N
(      Section 5.2.5\).) N
() N
(   o  Servers MAY impose storage quota limitations on calendar) N
(      collections \(See [RFC4331]\).) N
() N
(   o  Any change to a calendar object resource containing an inline) N
(      attachment requires the entire inline attachment to be re-) N
(      uploaded.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 74]) N
() N
(rfc4791.txt) (Page 74/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (37/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (75-76) 38
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   o  Clients synchronizing a changed calendar object resource have to) N
(      download the entire calendar object resource, even if the) N
(      attachment is unchanged.) N
() N
(8.5.2.  External Attachments) N
() N
(   CalDAV clients SHOULD support downloading of external attachments) N
(   referenced by arbitrary URI schemes, by either processing them) N
(   directly, or by passing the attachment URI to a suitable "helper) N
(   application" for processing, if such an application exists.  CalDAV) N
(   clients MUST support downloading of external attachments referenced) N
(   by the "http" or "https" URI schemes.  An external attachment could) N
(   be:) N
() N
(   o  In a collection in the calendar collection containing the calendar) N
(      object resource;) N
() N
(   o  Somewhere else in the same repository that hosts the calendar) N
(      collection; or) N
() N
(   o  On an HTTP or FTP server elsewhere.) N
() N
(   CalDAV servers MAY provide support for child collections in calendar) N
(   collections.  CalDAV servers MAY allow the MKCOL method to create) N
(   child collections in calendar collections.  Child collections of) N
(   calendar collections MAY contain any type of resource except calendar) N
(   collections that they MUST NOT contain.  Some CalDAV servers won't) N
(   allow child collections in calendar collections, and it may be) N
(   possible on such a server to discover other locations where) N
(   attachments can be stored.) N
() N
(   Clients are entirely responsible for maintaining reference) N
(   consistency with calendar components that link to external) N
(   attachments.  A client deleting a calendar component with an external) N
(   attachment might therefore also delete the attachment if that's) N
(   appropriate; however, appropriateness can be very hard to determine.) N
(   A new component might easily reference some pre-existing Web resource) N
(   that is intended to have independent existence from the calendar) N
(   component \(the "attachment" could be a major proposal to be discussed) N
(   in a meeting, for instance\).  Best practices will probably emerge and) N
(   should probably be documented, but for now, clients should be wary of) N
(   engaging in aggressive "cleanup" of external attachments.  A client) N
(   could involve the user in making decisions about removing) N
(   unreferenced documents, or a client could be conservative in only) N
(   deleting attachments it had created.) N
() N
(   Also, clients are responsible for consistency of permissions when) N
(   using external attachments.  One reason for servers to support the) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 75]) N
() N
(rfc4791.txt) (Page 75/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   storage of attachments within child collections of calendar) N
(   collections is that ACL inheritance might make it easier to grant the) N
(   same permissions to attachments that are granted on the calendar) N
(   collection.  Otherwise, it can be very difficult to keep permissions) N
(   synchronized.  With attachments stored on separate repositories, it) N
(   can be impossible to keep permissions consistent -- the two) N
(   repositories may not support the same permissions or have the same) N
(   set of principals.  Some systems have used tickets or other anonymous) N
(   access control mechanisms to provide partially satisfactory solutions) N
(   to these kinds of problems.) N
() N
(8.6.  Storing and Using Alarms) N
() N
(   Note that all CalDAV calendar collections \(including those the user) N
(   might treat as public or group calendars\) can contain alarm) N
(   information on events and to-dos.  Users can synchronize a calendar) N
(   between multiple devices and decide to have alarms execute on a) N
(   different device than the device that created the alarm.  Not all) N
(   alarm action types are completely interoperable \(e.g., those that) N
(   name a sound file to play\).) N
() N
(      When the action is AUDIO and the client is configured to execute) N
(      the alarm, the client SHOULD play the suggested sound if it's) N
(      available or play another sound, but SHOULD NOT rewrite the alarm) N
(      just to replace the suggested sound with a sound that's locally) N
(      available.) N
() N
(      When the action is DISPLAY and the client is configured to execute) N
(      the alarm, the client SHOULD execute a display alarm by displaying) N
(      according to the suggested description or some reasonable) N
(      replacement, but SHOULD NOT rewrite the alarm for its own) N
(      convenience.) N
() N
(      When the action is EMAIL and the client is incapable of sending) N
(      email, it SHOULD ignore the alarm, but it MUST continue to) N
(      synchronize the alarm itself.) N
() N
(      This specification makes no recommendations about executing alarms) N
(      of type PROCEDURE, except to note that clients are advised to take) N
(      care to avoid creating security holes by executing these.) N
() N
(   Non-interoperable alarm information \(e.g., should somebody define a) N
(   color to be used in a display alarm\) should be put in non-standard) N
(   properties inside the VALARM component in order to keep the basic) N
(   alarm usable on all devices.) N
() N
(   Clients that allow changes to calendar object resources MUST) N
(   synchronize the alarm data that already exists in the resources.) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 76]) N
() N
(rfc4791.txt) (Page 76/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (38/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (77-78) 39
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Clients MAY execute alarms that are downloaded in this fashion,) N
(   possibly based on user preference.  If a client is only doing read) N
(   operations on a calendar and there is no risk of losing alarm) N
(   information, then the client MAY discard alarm information.) N
() N
(   This specification makes no attempt to provide multi-user alarms on) N
(   group calendars or to find out for whom an alarm is intended.) N
(   Addressing those issues might require extensions to iCalendar; for) N
(   example, to store alarms per-user, or to indicate for which user a) N
(   VALARM was intended.  In the meantime, clients might maximize) N
(   interoperability by generally not uploading alarm information to) N
(   public, group, or resource calendars.) N
() N
(9.  XML Element Definitions) N
() N
(9.1.  CALDAV:calendar XML Element) N
() N
(   Name:  calendar) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies the resource type of a calendar collection.) N
() N
(   Description:  See Section 4.2.) N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar EMPTY>) N
() N
(9.2.  CALDAV:mkcalendar XML Element) N
() N
(   Name:  mkcalendar) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a request that includes the WebDAV property) N
(      values to be set for a calendar collection resource when it is) N
(      created.) N
() N
(   Description:  See Section 5.3.1.) N
() N
(   Definition:) N
() N
(         <!ELEMENT mkcalendar \(DAV:set\)>) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 77]) N
() N
(rfc4791.txt) (Page 77/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(9.3.  CALDAV:mkcalendar-response XML Element) N
() N
(   Name:  mkcalendar-response) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a response body for a successful MKCALENDAR) N
(      request.) N
() N
(   Description:  See Section 5.3.1.) N
() N
(   Definition:) N
() N
(         <!ELEMENT mkcalendar-response ANY>) N
() N
(9.4.  CALDAV:supported-collation XML Element) N
() N
(   Name:  supported-collation) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Identifies a single collation via its collation identifier,) N
(      as defined by [RFC4790].) N
() N
(   Description:  The CALDAV:supported-collation contains the text of a) N
(      collation identifier, as described in Section 7.5.1.) N
() N
(   Definition:) N
() N
(         <!ELEMENT supported-collation \(#PCDATA\)>) N
(         PCDATA value: collation identifier) N
() N
(9.5.  CALDAV:calendar-query XML Element) N
() N
(   Name:  calendar-query) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Defines a report for querying calendar object resources.) N
() N
(   Description:  See Section 7.8.) N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-query \(\(DAV:allprop |) N
(                                    DAV:propname |) N
(                                    DAV:prop\)?, filter, timezone?\)>) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 78]) N
() N
(rfc4791.txt) (Page 78/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (39/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (79-80) 40
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(9.6.  CALDAV:calendar-data XML Element) N
() N
(   Name:  calendar-data) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specified one of the following:) N
() N
(      1.  A supported media type for calendar object resources when) N
(          nested in the CALDAV:supported-calendar-data property;) N
() N
(      2.  The parts of a calendar object resource should be returned by) N
(          a calendaring report;) N
() N
(      3.  The content of a calendar object resource in a response to a) N
(          calendaring report.) N
() N
(   Description:  When nested in the CALDAV:supported-calendar-data) N
(      property, the CALDAV:calendar-data XML element specifies a media) N
(      type supported by the CalDAV server for calendar object resources.) N
() N
(      When used in a calendaring REPORT request, the CALDAV:calendar-) N
(      data XML element specifies which parts of calendar object) N
(      resources need to be returned in the response.  If the CALDAV:) N
(      calendar-data XML element doesn't contain any CALDAV:comp element,) N
(      calendar object resources will be returned in their entirety.) N
() N
(      Finally, when used in a calendaring REPORT response, the CALDAV:) N
(      calendar-data XML element specifies the content of a calendar) N
(      object resource.  Given that XML parsers normalize the two-) N
(      character sequence CRLF \(US-ASCII decimal 13 and US-ASCII decimal) N
(      10\) to a single LF character \(US-ASCII decimal 10\), the CR) N
(      character \(US-ASCII decimal 13\) MAY be omitted in calendar object) N
(      resources specified in the CALDAV:calendar-data XML element.) N
(      Furthermore, calendar object resources specified in the CALDAV:) N
(      calendar-data XML element MAY be invalid per their media type) N
(      specification if the CALDAV:calendar-data XML element part of the) N
(      calendaring REPORT request did not specify required properties) N
(      \(e.g., UID, DTSTAMP, etc.\), or specified a CALDAV:prop XML element) N
(      with the "novalue" attribute set to "yes".) N
() N
(   Note:  The CALDAV:calendar-data XML element is specified in requests) N
(      and responses inside the DAV:prop XML element as if it were a) N
(      WebDAV property.  However, the CALDAV:calendar-data XML element is) N
(      not a WebDAV property and, as such, is not returned in PROPFIND) N
(      responses, nor used in PROPPATCH requests.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 79]) N
() N
(rfc4791.txt) (Page 79/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Note:  The iCalendar data embedded within the CALDAV:calendar-data) N
(      XML element MUST follow the standard XML character data encoding) N
(      rules, including use of &lt;, &gt;, &amp; etc. entity encoding or) N
(      the use of a <![CDATA[ ... ]]> construct.  In the later case, the) N
(      iCalendar data cannot contain the character sequence "]]>", which) N
(      is the end delimiter for the CDATA section.) N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-data EMPTY>) N
() N
(         when nested in the CALDAV:supported-calendar-data property) N
(         to specify a supported media type for calendar object) N
(         resources;) N
() N
(         <!ELEMENT calendar-data \(comp?,) N
(                                  \(expand | limit-recurrence-set\)?,) N
(                                  limit-freebusy-set?\)>) N
() N
(         when nested in the DAV:prop XML element in a calendaring) N
(         REPORT request to specify which parts of calendar object) N
(         resources should be returned in the response;) N
() N
(         <!ELEMENT calendar-data \(#PCDATA\)>) N
(         PCDATA value: iCalendar object) N
() N
(         when nested in the DAV:prop XML element in a calendaring) N
(         REPORT response to specify the content of a returned) N
(         calendar object resource.) N
() N
(         <!ATTLIST calendar-data content-type CDATA "text/calendar") N
(                                 version CDATA "2.0">) N
(         content-type value: a MIME media type) N
(         version value: a version string) N
() N
(         attributes can be used on all three variants of the) N
(         CALDAV:calendar-data XML element.) N
() N
(9.6.1.  CALDAV:comp XML Element) N
() N
(   Name:  comp) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Defines which component types to return.) N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 80]) N
() N
(rfc4791.txt) (Page 80/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (40/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (81-82) 41
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Description:  The name value is a calendar component name \(e.g.,) N
(      VEVENT\).) N
() N
(   Definition:) N
() N
(         <!ELEMENT comp \(\(allprop | prop*\), \(allcomp | comp*\)\)>) N
() N
(         <!ATTLIST comp name CDATA #REQUIRED>) N
(         name value: a calendar component name) N
() N
(   Note:  The CALDAV:prop and CALDAV:allprop elements have the same name) N
(      as the DAV:prop and DAV:allprop elements defined in [RFC2518].) N
(      However, the CALDAV:prop and CALDAV:allprop elements are defined) N
(      in the "urn:ietf:params:xml:ns:caldav" namespace instead of the) N
(      "DAV:" namespace.) N
() N
(9.6.2.  CALDAV:allcomp XML Element) N
() N
(   Name:  allcomp) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies that all components shall be returned.) N
() N
(   Description:  The CALDAV:allcomp XML element can be used when the) N
(      client wants all types of components returned by a calendaring) N
(      REPORT request.) N
() N
(   Definition:) N
() N
(         <!ELEMENT allcomp EMPTY>) N
() N
(9.6.3.  CALDAV:allprop XML Element) N
() N
(   Name:  allprop) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies that all properties shall be returned.) N
() N
(   Description:  The CALDAV:allprop XML element can be used when the) N
(      client wants all properties of components returned by a) N
(      calendaring REPORT request.) N
() N
(   Definition:) N
() N
(         <!ELEMENT allprop EMPTY>) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 81]) N
() N
(rfc4791.txt) (Page 81/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Note:  The CALDAV:allprop element has the same name as the DAV:) N
(      allprop element defined in [RFC2518].  However, the CALDAV:allprop) N
(      element is defined in the "urn:ietf:params:xml:ns:caldav") N
(      namespace instead of the "DAV:" namespace.) N
() N
(9.6.4.  CALDAV:prop XML Element) N
() N
(   Name:  prop) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Defines which properties to return in the response.) N
() N
(   Description:  The "name" attribute specifies the name of the calendar) N
(      property to return \(e.g., ATTENDEE\).  The "novalue" attribute can) N
(      be used by clients to request that the actual value of the) N
(      property not be returned \(if the "novalue" attribute is set to) N
(      "yes"\).  In that case, the server will return just the iCalendar) N
(      property name and any iCalendar parameters and a trailing ":") N
(      without the subsequent value data.) N
() N
(   Definition:) N
() N
(         <!ELEMENT prop EMPTY>) N
() N
(         <!ATTLIST prop name CDATA #REQUIRED) N
(                        novalue \(yes | no\) "no">) N
(         name value: a calendar property name) N
(         novalue value: "yes" or "no") N
() N
(   Note:  The CALDAV:prop element has the same name as the DAV:prop) N
(      element defined in [RFC2518].  However, the CALDAV:prop element is) N
(      defined in the "urn:ietf:params:xml:ns:caldav" namespace instead) N
(      of the "DAV:" namespace.) N
() N
(9.6.5.  CALDAV:expand XML Element) N
() N
(   Name:  expand) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Forces the server to expand recurring components into) N
(      individual recurrence instances.) N
() N
(   Description:  The CALDAV:expand XML element specifies that for a) N
(      given calendaring REPORT request, the server MUST expand the) N
(      recurrence set into calendar components that define exactly one) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 82]) N
() N
(rfc4791.txt) (Page 82/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (41/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (83-84) 42
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      recurrence instance, and MUST return only those whose scheduled) N
(      time intersect a specified time range.) N
() N
(      The "start" attribute specifies the inclusive start of the time) N
(      range, and the "end" attribute specifies the non-inclusive end of) N
(      the time range.  Both attributes are specified as date with UTC) N
(      time value.  The value of the "end" attribute MUST be greater than) N
(      the value of the "start" attribute.) N
() N
(      The server MUST use the same logic as defined for CALDAV:time-) N
(      range to determine if a recurrence instance intersects the) N
(      specified time range.) N
() N
(      Recurring components, other than the initial instance, MUST) N
(      include a RECURRENCE-ID property indicating which instance they) N
(      refer to.) N
() N
(      The returned calendar components MUST NOT use recurrence) N
(      properties \(i.e., EXDATE, EXRULE, RDATE, and RRULE\) and MUST NOT) N
(      have reference to or include VTIMEZONE components.  Date and local) N
(      time with reference to time zone information MUST be converted) N
(      into date with UTC time.) N
() N
(   Definition:) N
() N
(         <!ELEMENT expand EMPTY>) N
() N
(         <!ATTLIST expand start CDATA #REQUIRED) N
(                          end   CDATA #REQUIRED>) N
(         start value: an iCalendar "date with UTC time") N
(         end value: an iCalendar "date with UTC time") N
() N
(9.6.6.  CALDAV:limit-recurrence-set XML Element) N
() N
(   Name:  limit-recurrence-set) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a time range to limit the set of "overridden) N
(      components" returned by the server.) N
() N
(   Description:  The CALDAV:limit-recurrence-set XML element specifies) N
(      that for a given calendaring REPORT request, the server MUST) N
(      return, in addition to the "master component", only the) N
(      "overridden components" that impact a specified time range.  An) N
(      overridden component impacts a time range if its current start and) N
(      end times overlap the time range, or if the original start and end) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 83]) N
() N
(rfc4791.txt) (Page 83/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      times -- the ones that would have been used if the instance were) N
(      not overridden -- overlap the time range.) N
() N
(      The "start" attribute specifies the inclusive start of the time) N
(      range, and the "end" attribute specifies the non-inclusive end of) N
(      the time range.  Both attributes are specified as date with UTC) N
(      time value.  The value of the "end" attribute MUST be greater than) N
(      the value of the "start" attribute.) N
() N
(      The server MUST use the same logic as defined for CALDAV:time-) N
(      range to determine if the current or original scheduled time of an) N
(      "overridden" recurrence instance intersects the specified time) N
(      range.) N
() N
(      Overridden components that have a RANGE parameter on their) N
(      RECURRENCE-ID property may specify one or more instances in the) N
(      recurrence set, and some of those instances may fall within the) N
(      specified time range or may have originally fallen within the) N
(      specified time range prior to being overridden.  If that is the) N
(      case, the overridden component MUST be included in the results, as) N
(      it has a direct impact on the interpretation of instances within) N
(      the specified time range.) N
() N
(   Definition:) N
() N
(         <!ELEMENT limit-recurrence-set EMPTY>) N
() N
(         <!ATTLIST limit-recurrence-set start CDATA #REQUIRED) N
(                                        end   CDATA #REQUIRED>) N
(         start value: an iCalendar "date with UTC time") N
(         end value: an iCalendar "date with UTC time") N
() N
(9.6.7.  CALDAV:limit-freebusy-set XML Element) N
() N
(   Name:  limit-freebusy-set) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a time range to limit the set of FREEBUSY values) N
(      returned by the server.) N
() N
(   Description:  The CALDAV:limit-freebusy-set XML element specifies) N
(      that for a given calendaring REPORT request, the server MUST only) N
(      return the FREEBUSY property values of a VFREEBUSY component that) N
(      intersects a specified time range.) N
() N
(      The "start" attribute specifies the inclusive start of the time) N
(      range, and the "end" attribute specifies the non-inclusive end of) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 84]) N
() N
(rfc4791.txt) (Page 84/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (42/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (85-86) 43
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      the time range.  Both attributes are specified as "date with UTC) N
(      time" value.  The value of the "end" attribute MUST be greater) N
(      than the value of the "start" attribute.) N
() N
(      The server MUST use the same logic as defined for CALDAV:time-) N
(      range to determine if a FREEBUSY property value intersects the) N
(      specified time range.) N
() N
(   Definition:) N
() N
(         <!ELEMENT limit-freebusy-set EMPTY>) N
() N
(         <!ATTLIST limit-freebusy-set start CDATA #REQUIRED) N
(                                      end   CDATA #REQUIRED>) N
(         start value: an iCalendar "date with UTC time") N
(         end value: an iCalendar "date with UTC time") N
() N
(9.7.  CALDAV:filter XML Element) N
() N
(   Name:  filter) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a filter to limit the set of calendar components) N
(      returned by the server.) N
() N
(   Description:  The CALDAV:filter XML element specifies the search) N
(      filter used to limit the calendar components returned by a) N
(      calendaring REPORT request.) N
() N
(   Definition:) N
() N
(         <!ELEMENT filter \(comp-filter\)>) N
() N
(9.7.1.  CALDAV:comp-filter XML Element) N
() N
(   Name:  comp-filter) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies search criteria on calendar components.) N
() N
(   Description:  The CALDAV:comp-filter XML element specifies a query) N
(      targeted at the calendar object \(i.e., VCALENDAR\) or at a specific) N
(      calendar component type \(e.g., VEVENT\).  The scope of the) N
(      CALDAV:comp-filter XML element is the calendar object when used as) N
(      a child of the CALDAV:filter XML element.  The scope of the) N
(      CALDAV:comp-filter XML element is the enclosing calendar component) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 85]) N
() N
(rfc4791.txt) (Page 85/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      when used as a child of another CALDAV:comp-filter XML element.  A) N
(      CALDAV:comp-filter is said to match if:) N
() N
(      *  The CALDAV:comp-filter XML element is empty and the calendar) N
(         object or calendar component type specified by the "name") N
(         attribute exists in the current scope;) N
() N
(      or:) N
() N
(      *  The CALDAV:comp-filter XML element contains a CALDAV:is-not-) N
(         defined XML element and the calendar object or calendar) N
(         component type specified by the "name" attribute does not exist) N
(         in the current scope;) N
() N
(      or:) N
() N
(      *  The CALDAV:comp-filter XML element contains a CALDAV:time-range) N
(         XML element and at least one recurrence instance in the) N
(         targeted calendar component is scheduled to overlap the) N
(         specified time range, and all specified CALDAV:prop-filter and) N
(         CALDAV:comp-filter child XML elements also match the targeted) N
(         calendar component;) N
() N
(      or:) N
() N
(      *  The CALDAV:comp-filter XML element only contains CALDAV:prop-) N
(         filter and CALDAV:comp-filter child XML elements that all match) N
(         the targeted calendar component.) N
() N
(   Definition:) N
() N
(         <!ELEMENT comp-filter \(is-not-defined | \(time-range?,) N
(                                prop-filter*, comp-filter*\)\)>) N
() N
(         <!ATTLIST comp-filter name CDATA #REQUIRED>) N
(         name value: a calendar object or calendar component) N
(                     type \(e.g., VEVENT\)) N
() N
(9.7.2.  CALDAV:prop-filter XML Element) N
() N
(   Name:  prop-filter) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies search criteria on calendar properties.) N
() N
(   Description:  The CALDAV:prop-filter XML element specifies a query) N
(      targeted at a specific calendar property \(e.g., CATEGORIES\) in the) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 86]) N
() N
(rfc4791.txt) (Page 86/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (43/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (87-88) 44
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      scope of the enclosing calendar component.  A calendar property is) N
(      said to match a CALDAV:prop-filter if:) N
() N
(      *  The CALDAV:prop-filter XML element is empty and a property of) N
(         the type specified by the "name" attribute exists in the) N
(         enclosing calendar component;) N
() N
(      or:) N
() N
(      *  The CALDAV:prop-filter XML element contains a CALDAV:is-not-) N
(         defined XML element and no property of the type specified by) N
(         the "name" attribute exists in the enclosing calendar) N
(         component;) N
() N
(      or:) N
() N
(      *  The CALDAV:prop-filter XML element contains a CALDAV:time-range) N
(         XML element and the property value overlaps the specified time) N
(         range, and all specified CALDAV:param-filter child XML elements) N
(         also match the targeted property;) N
() N
(      or:) N
() N
(      *  The CALDAV:prop-filter XML element contains a CALDAV:text-match) N
(         XML element and the property value matches it, and all) N
(         specified CALDAV:param-filter child XML elements also match the) N
(         targeted property;) N
() N
(   Definition:) N
() N
(         <!ELEMENT prop-filter \(is-not-defined |) N
(                                \(\(time-range | text-match\)?,) N
(                                 param-filter*\)\)>) N
() N
(         <!ATTLIST prop-filter name CDATA #REQUIRED>) N
(         name value: a calendar property name \(e.g., ATTENDEE\)) N
() N
(9.7.3.  CALDAV:param-filter XML Element) N
() N
(   Name:  param-filter) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Limits the search to specific parameter values.) N
() N
(   Description:  The CALDAV:param-filter XML element specifies a query) N
(      targeted at a specific calendar property parameter \(e.g.,) N
(      PARTSTAT\) in the scope of the calendar property on which it is) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 87]) N
() N
(rfc4791.txt) (Page 87/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      defined.  A calendar property parameter is said to match a CALDAV:) N
(      param-filter if:) N
() N
(      *  The CALDAV:param-filter XML element is empty and a parameter of) N
(         the type specified by the "name" attribute exists on the) N
(         calendar property being examined;) N
() N
(      or:) N
() N
(      *  The CALDAV:param-filter XML element contains a CALDAV:is-not-) N
(         defined XML element and no parameter of the type specified by) N
(         the "name" attribute exists on the calendar property being) N
(         examined;) N
() N
(   Definition:) N
() N
(         <!ELEMENT param-filter \(is-not-defined | text-match?\)>) N
() N
(         <!ATTLIST param-filter name CDATA #REQUIRED>) N
(         name value: a property parameter name \(e.g., PARTSTAT\)) N
() N
(9.7.4.  CALDAV:is-not-defined XML Element) N
() N
(   Name:  is-not-defined) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies that a match should occur if the enclosing) N
(      component, property, or parameter does not exist.) N
() N
(   Description:  The CALDAV:is-not-defined XML element specifies that a) N
(      match occurs if the enclosing component, property, or parameter) N
(      value specified in a calendaring REPORT request does not exist in) N
(      the calendar data being tested.) N
() N
(   Definition:) N
() N
(         <!ELEMENT is-not-defined EMPTY>) N
() N
(9.7.5.  CALDAV:text-match XML Element) N
() N
(   Name:  text-match) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a substring match on a property or parameter) N
(      value.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 88]) N
() N
(rfc4791.txt) (Page 88/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (44/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (89-90) 45
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   Description:  The CALDAV:text-match XML element specifies text used) N
(      for a substring match against the property or parameter value) N
(      specified in a calendaring REPORT request.) N
() N
(      The "collation" attribute is used to select the collation that the) N
(      server MUST use for character string matching.  In the absence of) N
(      this attribute, the server MUST use the "i;ascii-casemap") N
(      collation.) N
() N
(      The "negate-condition" attribute is used to indicate that this) N
(      test returns a match if the text matches when the attribute value) N
(      is set to "no", or return a match if the text does not match, if) N
(      the attribute value is set to "yes".  For example, this can be) N
(      used to match components with a STATUS property not set to) N
(      CANCELLED.) N
() N
(   Definition:) N
() N
(         <!ELEMENT text-match \(#PCDATA\)>) N
(         PCDATA value: string) N
() N
(         <!ATTLIST text-match collation        CDATA "i;ascii-casemap") N
(                              negate-condition \(yes | no\) "no">) N
() N
(9.8.  CALDAV:timezone XML Element) N
() N
(   Name:  timezone) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies the time zone component to use when determining) N
(      the results of a report.) N
() N
(   Description:  The CALDAV:timezone XML element specifies that for a) N
(      given calendaring REPORT request, the server MUST rely on the) N
(      specified VTIMEZONE component instead of the CALDAV:calendar-) N
(      timezone property of the calendar collection, in which the) N
(      calendar object resource is contained to resolve "date" values and) N
(      "date with local time" values \(i.e., floating time\) to "date with) N
(      UTC time" values.  The server will require this information to) N
(      determine if a calendar component scheduled with "date" values or) N
(      "date with local time" values intersects a CALDAV:time-range) N
(      specified in a CALDAV:calendar-query REPORT.) N
() N
(   Note:  The iCalendar data embedded within the CALDAV:timezone XML) N
(      element MUST follow the standard XML character data encoding) N
(      rules, including use of &lt;, &gt;, &amp; etc. entity encoding or) N
(      the use of a <![CDATA[ ... ]]> construct.  In the later case, the) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 89]) N
() N
(rfc4791.txt) (Page 89/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      iCalendar data cannot contain the character sequence "]]>", which) N
(      is the end delimiter for the CDATA section.) N
() N
(   Definition:) N
() N
(         <!ELEMENT timezone \(#PCDATA\)>) N
(         PCDATA value: an iCalendar object with exactly one VTIMEZONE) N
() N
(9.9.  CALDAV:time-range XML Element) N
() N
(   Name:  time-range) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  Specifies a time range to limit the set of calendar) N
(      components returned by the server.) N
() N
(   Description:  The CALDAV:time-range XML element specifies that for a) N
(      given calendaring REPORT request, the server MUST only return the) N
(      calendar object resources that, depending on the context, have a) N
(      component or property whose value intersects a specified time) N
(      range.) N
() N
(      The "start" attribute specifies the inclusive start of the time) N
(      range, and the "end" attribute specifies the non-inclusive end of) N
(      the time range.  Both attributes MUST be specified as "date with) N
(      UTC time" value.  Time ranges open at one end can be specified by) N
(      including only one attribute; however, at least one attribute MUST) N
(      always be present in the CALDAV:time-range element.  If either the) N
(      "start" or "end" attribute is not specified in the CALDAV:time-) N
(      range XML element, assume "-infinity" and "+infinity" as their) N
(      value, respectively.  If both "start" and "end" are present, the) N
(      value of the "end" attribute MUST be greater than the value of the) N
(      "start" attribute.) N
() N
(      Time range tests MUST consider every recurrence instance when) N
(      testing the time range condition; if any one instance matches,) N
(      then the test returns true.  Testing recurrence instances requires) N
(      the server to infer an effective value for DTSTART, DTEND,) N
(      DURATION, and DUE properties for an instance based on the) N
(      recurrence patterns and any overrides.) N
() N
(      A VEVENT component overlaps a given time range if the condition) N
(      for the corresponding component state specified in the table below) N
(      is satisfied.  Note that, as specified in [RFC2445], the DTSTART) N
(      property is REQUIRED in the VEVENT component.  The conditions) N
(      depend on the presence of the DTEND and DURATION properties in the) N
(      VEVENT component.  Furthermore, the value of the DTEND property) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 90]) N
() N
(rfc4791.txt) (Page 90/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (45/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (91-92) 46
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      MUST be later in time than the value of the DTSTART property.  The) N
(      duration of a VEVENT component with no DTEND and DURATION) N
(      properties is 1 day \(+P1D\) when the DTSTART is a DATE value, and 0) N
(      seconds when the DTSTART is a DATE-TIME value.) N
() N
(      +---------------------------------------------------------------+) N
(      | VEVENT has the DTEND property?                                |) N
(      |   +-----------------------------------------------------------+) N
(      |   | VEVENT has the DURATION property?                         |) N
(      |   |   +-------------------------------------------------------+) N
(      |   |   | DURATION property value is greater than 0 seconds?    |) N
(      |   |   |   +---------------------------------------------------+) N
(      |   |   |   | DTSTART property is a DATE-TIME value?            |) N
(      |   |   |   |   +-----------------------------------------------+) N
(      |   |   |   |   | Condition to evaluate                         |) N
(      +---+---+---+---+-----------------------------------------------+) N
(      | Y | N | N | * | \(start <  DTEND AND end > DTSTART\)            |) N
(      +---+---+---+---+-----------------------------------------------+) N
(      | N | Y | Y | * | \(start <  DTSTART+DURATION AND end > DTSTART\) |) N
(      |   |   +---+---+-----------------------------------------------+) N
(      |   |   | N | * | \(start <= DTSTART AND end > DTSTART\)          |) N
(      +---+---+---+---+-----------------------------------------------+) N
(      | N | N | N | Y | \(start <= DTSTART AND end > DTSTART\)          |) N
(      +---+---+---+---+-----------------------------------------------+) N
(      | N | N | N | N | \(start <  DTSTART+P1D AND end > DTSTART\)      |) N
(      +---+---+---+---+-----------------------------------------------+) N
() N
(      A VTODO component is said to overlap a given time range if the) N
(      condition for the corresponding component state specified in the) N
(      table below is satisfied.  The conditions depend on the presence) N
(      of the DTSTART, DURATION, DUE, COMPLETED, and CREATED properties) N
(      in the VTODO component.  Note that, as specified in [RFC2445], the) N
(      DUE value MUST be a DATE-TIME value equal to or after the DTSTART) N
(      value if specified.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 91]) N
() N
(rfc4791.txt) (Page 91/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   +-------------------------------------------------------------------+) N
(   | VTODO has the DTSTART property?                                   |) N
(   |   +---------------------------------------------------------------+) N
(   |   |   VTODO has the DURATION property?                            |) N
(   |   |   +-----------------------------------------------------------+) N
(   |   |   | VTODO has the DUE property?                               |) N
(   |   |   |   +-------------------------------------------------------+) N
(   |   |   |   | VTODO has the COMPLETED property?                     |) N
(   |   |   |   |   +---------------------------------------------------+) N
(   |   |   |   |   | VTODO has the CREATED property?                   |) N
(   |   |   |   |   |   +-----------------------------------------------+) N
(   |   |   |   |   |   | Condition to evaluate                         |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | Y | Y | N | * | * | \(start  <= DTSTART+DURATION\)  AND             |) N
(   |   |   |   |   |   | \(\(end   >  DTSTART\)  OR                       |) N
(   |   |   |   |   |   |  \(end   >= DTSTART+DURATION\)\)                 |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | Y | N | Y | * | * | \(\(start <  DUE\)      OR  \(start <= DTSTART\)\)  |) N
(   |   |   |   |   |   | AND                                           |) N
(   |   |   |   |   |   | \(\(end   >  DTSTART\)  OR  \(end   >= DUE\)\)      |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | Y | N | N | * | * | \(start  <= DTSTART\)  AND \(end >  DTSTART\)     |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | N | N | Y | * | * | \(start  <  DUE\)      AND \(end >= DUE\)         |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | N | N | N | Y | Y | \(\(start <= CREATED\)  OR  \(start <= COMPLETED\)\)|) N
(   |   |   |   |   |   | AND                                           |) N
(   |   |   |   |   |   | \(\(end   >= CREATED\)  OR  \(end   >= COMPLETED\)\)|) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | N | N | N | Y | N | \(start  <= COMPLETED\) AND \(end  >= COMPLETED\) |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | N | N | N | N | Y | \(end    >  CREATED\)                           |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
(   | N | N | N | N | N | TRUE                                          |) N
(   +---+---+---+---+---+-----------------------------------------------+) N
() N
(      A VJOURNAL component overlaps a given time range if the condition) N
(      for the corresponding component state specified in the table below) N
(      is satisfied.  The conditions depend on the presence of the) N
(      DTSTART property in the VJOURNAL component and on whether the) N
(      DTSTART is a DATE-TIME or DATE value.  The effective "duration" of) N
(      a VJOURNAL component is 1 day \(+P1D\) when the DTSTART is a DATE) N
(      value, and 0 seconds when the DTSTART is a DATE-TIME value.) N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 92]) N
() N
(rfc4791.txt) (Page 92/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (46/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (93-94) 47
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(      +----------------------------------------------------+) N
(      | VJOURNAL has the DTSTART property?                 |) N
(      |   +------------------------------------------------+) N
(      |   | DTSTART property is a DATE-TIME value?         |) N
(      |   |   +--------------------------------------------+) N
(      |   |   | Condition to evaluate                      |) N
(      +---+---+--------------------------------------------+) N
(      | Y | Y | \(start <= DTSTART\)     AND \(end > DTSTART\) |) N
(      +---+---+--------------------------------------------+) N
(      | Y | N | \(start <  DTSTART+P1D\) AND \(end > DTSTART\) |) N
(      +---+---+--------------------------------------------+) N
(      | N | * | FALSE                                      |) N
(      +---+---+--------------------------------------------+) N
() N
(      A VFREEBUSY component overlaps a given time range if the condition) N
(      for the corresponding component state specified in the table below) N
(      is satisfied.  The conditions depend on the presence in the) N
(      VFREEBUSY component of the DTSTART and DTEND properties, and any) N
(      FREEBUSY properties in the absence of DTSTART and DTEND.  Any) N
(      DURATION property is ignored, as it has a special meaning when) N
(      used in a VFREEBUSY component.) N
() N
(      When only FREEBUSY properties are used, each period in each) N
(      FREEBUSY property is compared against the time range, irrespective) N
(      of the type of free busy information \(free, busy, busy-tentative,) N
(      busy-unavailable\) represented by the property.) N
() N
() N
(      +------------------------------------------------------+) N
(      | VFREEBUSY has both the DTSTART and DTEND properties? |) N
(      |   +--------------------------------------------------+) N
(      |   | VFREEBUSY has the FREEBUSY property?             |) N
(      |   |   +----------------------------------------------+) N
(      |   |   | Condition to evaluate                        |) N
(      +---+---+----------------------------------------------+) N
(      | Y | * | \(start <= DTEND\) AND \(end > DTSTART\)         |) N
(      +---+---+----------------------------------------------+) N
(      | N | Y | \(start <  freebusy-period-end\) AND           |) N
(      |   |   | \(end   >  freebusy-period-start\)             |) N
(      +---+---+----------------------------------------------+) N
(      | N | N | FALSE                                        |) N
(      +---+---+----------------------------------------------+) N
() N
(      A VALARM component is said to overlap a given time range if the) N
(      following condition holds:) N
() N
(         \(start <= trigger-time\) AND \(end > trigger-time\)) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 93]) N
() N
(rfc4791.txt) (Page 93/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   A VALARM component can be defined such that it triggers repeatedly.) N
(   Such a VALARM component is said to overlap a given time range if at) N
(   least one of its triggers overlaps the time range.) N
() N
(      The calendar properties COMPLETED, CREATED, DTEND, DTSTAMP,) N
(      DTSTART, DUE, and LAST-MODIFIED overlap a given time range if the) N
(      following condition holds:) N
() N
(          \(start <= date-time\) AND \(end > date-time\)) N
() N
(   Note that if DTEND is not present in a VEVENT, but DURATION is, then) N
(   the test should instead operate on the 'effective' DTEND, i.e.,) N
(   DTSTART+DURATION.  Similarly, if DUE is not present in a VTODO, but) N
(   DTSTART and DURATION are, then the test should instead operate on the) N
(   'effective' DUE, i.e., DTSTART+DURATION.) N
() N
(      The semantic of CALDAV:time-range is not defined for any other) N
(      calendar components and properties.) N
() N
(   Definition:) N
() N
(         <!ELEMENT time-range EMPTY>) N
() N
(         <!ATTLIST time-range start CDATA #IMPLIED) N
(                              end   CDATA #IMPLIED>) N
(         start value: an iCalendar "date with UTC time") N
(         end value: an iCalendar "date with UTC time") N
() N
(9.10.  CALDAV:calendar-multiget XML Element) N
() N
(   Name:  calendar-multiget) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  CalDAV report used to retrieve specific calendar object) N
(      resources.) N
() N
(   Description:  See Section 7.9.) N
() N
(   Definition:) N
() N
(         <!ELEMENT calendar-multiget \(\(DAV:allprop |) N
(                                      DAV:propname |) N
(                                      DAV:prop\)?, DAV:href+\)>) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 94]) N
() N
(rfc4791.txt) (Page 94/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (47/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (95-96) 48
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(9.11.  CALDAV:free-busy-query XML Element) N
() N
(   Name:  free-busy-query) N
() N
(   Namespace:  urn:ietf:params:xml:ns:caldav) N
() N
(   Purpose:  CalDAV report used to generate a VFREEBUSY to determine) N
(      busy time over a specific time range.) N
() N
(   Description:  See Section 7.10.) N
() N
(   Definition:) N
() N
(         <!ELEMENT free-busy-query \(time-range\)>) N
() N
(10.  Internationalization Considerations) N
() N
(   CalDAV allows internationalized strings to be stored and retrieved) N
(   for the description of calendar collections \(see Section 5.2.1\).) N
() N
(   The CALDAV:calendar-query REPORT \(Section 7.8\) includes a text) N
(   searching option controlled by the CALDAV:text-match element, and) N
(   details of character handling are covered in the description of that) N
(   element \(see Section 9.7.5\).) N
() N
(11.  Security Considerations) N
() N
(   HTTP protocol transactions are sent in the clear over the network) N
(   unless protection from snooping is negotiated.  This can be) N
(   accomplished by use of TLS, as defined in [RFC2818].  In particular,) N
(   HTTP Basic authentication MUST NOT be used unless TLS is in effect.) N
() N
(   Servers MUST take adequate precautions to ensure that malicious) N
(   clients cannot consume excessive server resources \(CPU, memory, disk,) N
(   etc.\) through carefully crafted reports.  For example, a client could) N
(   upload an event with a recurrence rule that specifies a recurring) N
(   event occurring every second for the next 100 years, which would) N
(   result in approximately 3 x 10^9 instances!  A report that asks for) N
(   recurrences to be expanded over that range would likely constitute a) N
(   denial-of-service attack on the server.) N
() N
(   When creating new resources \(including calendar collections\), clients) N
(   MUST ensure that the resource name \(the last path segment of the) N
(   resource URI\) assigned to the new resource does not expose any data) N
(   from within the iCalendar resource itself or information about the) N
(   nature of a calendar collection.  This is required to ensure that the) N
(   presence of a specific iCalendar component or nature of components in) N
(   a collection cannot be inferred based on the name of a resource.) N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 95]) N
() N
(rfc4791.txt) (Page 95/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   When rolling up free-busy information, more information about a) N
(   user's events is exposed if busy periods overlap or are adjacent) N
(   \(this tells the client requesting the free-busy information that the) N
(   calendar owner has at least two events, rather than knowing only that) N
(   the calendar owner has one or more events during the busy period\).) N
(   Thus, a conservative approach to calendar data privacy would have) N
(   servers always coalesce such busy periods when they are the same) N
(   type.) N
() N
(   Procedure alarms are a known security risk for either clients or) N
(   servers to handle, particularly when the alarm was created by another) N
(   agent.  Clients and servers are not required to execute such) N
(   procedure alarms.) N
() N
(   Security considerations described in iCalendar [RFC2445] and iTIP) N
(   [RFC2446] are also applicable to CalDAV.) N
() N
(   Beyond these, CalDAV does not raise any security considerations that) N
(   are not present in HTTP [RFC2616] and WebDAV [RFC2518], [RFC3253],) N
(   [RFC3744].) N
() N
(12.  IANA Considerations) N
() N
(   This document uses one new URN to identify a new XML namespace.  The) N
(   URN conforms to a registry mechanism described in [RFC3688].) N
() N
(12.1.  Namespace Registration) N
() N
(   Registration request for the CalDAV namespace:) N
() N
(   URI: urn:ietf:params:xml:ns:caldav) N
() N
(   Registrant Contact: See the "Authors' Addresses" section of this) N
(   document.) N
() N
(   XML: None.  Namespace URIs do not represent an XML specification.) N
() N
(13.  Acknowledgements) N
() N
(   The authors would like to thank the following individuals for) N
(   contributing their ideas and support for writing this specification:) N
(   Michael Arick, Mario Bonin, Chris Bryant, Scott Carr, Andre) N
(   Courtemanche, Mike Douglass, Ted Hardie, Marten den Haring, Jeffrey) N
(   Harris, Sam Hartman, Helge Hess, Jeff McCullough, Alexey Melnikov,) N
(   Dan Mosedale, Brian Moseley, Francois Perrault, Kervin L. Pierre,) N
(   Julian F. Reschke, Wilfredo Sanchez Vega, Mike Shaver, Jari) N
(   Urpalainen, Simon Vaillancourt, and Jim Whitehead.) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 96]) N
() N
(rfc4791.txt) (Page 96/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (48/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (97-98) 49
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   The authors would also like to thank the Calendaring and Scheduling) N
(   Consortium for advice with this specification, and for organizing) N
(   interoperability testing events to help refine it.) N
() N
(14.  References) N
() N
(14.1.  Normative References) N
() N
(   [RFC2119]               Bradner, S., "Key words for use in RFCs to) N
(                           Indicate Requirement Levels", BCP 14,) N
(                           RFC 2119, March 1997.) N
() N
(   [RFC2246]               Dierks, T. and C. Allen, "The TLS Protocol) N
(                           Version 1.0", RFC 2246, January 1999.) N
() N
(   [RFC2445]               Dawson, F. and Stenerson, D., "Internet) N
(                           Calendaring and Scheduling Core Object) N
(                           Specification \(iCalendar\)", RFC 2445,) N
(                           November 1998.) N
() N
(   [RFC2446]               Silverberg, S., Mansour, S., Dawson, F., and) N
(                           R. Hopson, "iCalendar Transport-Independent) N
(                           Interoperability Protocol \(iTIP\) Scheduling) N
(                           Events, BusyTime, To-dos and Journal) N
(                           Entries", RFC 2446, November 1998.) N
() N
(   [RFC2518]               Goland, Y., Whitehead, E., Faizi, A., Carter,) N
(                           S., and D. Jensen, "HTTP Extensions for) N
(                           Distributed Authoring -- WEBDAV", RFC 2518,) N
(                           February 1999.) N
() N
(   [RFC2616]               Fielding, R., Gettys, J., Mogul, J., Frystyk,) N
(                           H., Masinter, L., Leach, P., and T. Berners-) N
(                           Lee, "Hypertext Transfer Protocol --) N
(                           HTTP/1.1", RFC 2616, June 1999.) N
() N
(   [RFC2818]               Rescorla, E., "HTTP Over TLS", RFC 2818,) N
(                           May 2000.) N
() N
(   [RFC3253]               Clemm, G., Amsden, J., Ellison, T., Kaler,) N
(                           C., and J. Whitehead, "Versioning Extensions) N
(                           to WebDAV \(Web Distributed Authoring and) N
(                           Versioning\)", RFC 3253, March 2002.) N
() N
(   [RFC3688]               Mealling, M., "The IETF XML Registry",) N
(                           BCP 81, RFC 3688, January 2004.) N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 97]) N
() N
(rfc4791.txt) (Page 97/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   [RFC3744]               Clemm, G., Reschke, J., Sedlar, E., and J.) N
(                           Whitehead, "Web Distributed Authoring and) N
(                           Versioning \(WebDAV\) Access Control Protocol",) N
(                           RFC 3744, May 2004.) N
() N
(   [RFC4346]               Dierks, T. and E. Rescorla, "The Transport) N
(                           Layer Security \(TLS\) Protocol Version 1.1",) N
(                           RFC 4346, April 2006.) N
() N
(   [RFC4790]               Newman, C., Duerst, M., and A. Gulbrandsen,) N
(                           "Internet Application Protocol Collation) N
(                           Registry", RFC 4790, March 2007.) N
() N
(   [W3C.REC-xml-20060816]  Paoli, J., Maler, E., Yergeau, F., Sperberg-) N
(                           McQueen, C., and T. Bray, "Extensible Markup) N
(                           Language \(XML\) 1.0 \(Fourth Edition\)", World) N
(                           Wide Web Consortium Recommendation REC-xml-) N
(                           20060816, August 2006,) N
(                           <http://www.w3.org/TR/2006/REC-xml-20060816>.) N
() N
(14.2.  Informative References) N
() N
(   [RFC2426]               Dawson, F. and T. Howes, "vCard MIME) N
(                           Directory Profile", RFC 2426, September 1998.) N
() N
(   [RFC2739]               Small, T., Hennessy, D., and F. Dawson,) N
(                           "Calendar Attributes for vCard and LDAP",) N
(                           RFC 2739, January 2000.) N
() N
(   [RFC4331]               Korver, B. and L. Dusseault, "Quota and Size) N
(                           Properties for Distributed Authoring and) N
(                           Versioning \(DAV\) Collections", RFC 4331,) N
(                           February 2006.) N
() N
(   [RFC4511]               Sermersheim, J., "Lightweight Directory) N
(                           Access Protocol \(LDAP\): The Protocol",) N
(                           RFC 4511, June 2006.) N
() N
(   [rfc2518bis]            Dusseault, L., "HTTP Extensions for) N
(                           Distributed Authoring - WebDAV", Work) N
(                           in Progress, December 2006.) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 98]) N
() N
(rfc4791.txt) (Page 98/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (49/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (99-100) 50
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(Appendix A.  CalDAV Method Privilege Table \(Normative\)) N
() N
(   The following table extends the WebDAV Method Privilege Table) N
(   specified in Appendix B of [RFC3744].) N
() N
(   +------------+------------------------------------------------------+) N
(   | METHOD     | PRIVILEGES                                           |) N
(   +------------+------------------------------------------------------+) N
(   | MKCALENDAR | DAV:bind                                             |) N
(   | REPORT     | DAV:read or CALDAV:read-free-busy \(on all referenced |) N
(   |            | resources\)                                           |) N
(   +------------+------------------------------------------------------+) N
() N
(Appendix B.  Calendar Collections Used in the Examples) N
() N
(   This appendix shows the calendar object resources contained in the) N
(   calendar collection queried in the examples throughout this document.) N
() N
(   The content of the calendar collection is being shown as if it were) N
(   returned by a CALDAV:calendar-query REPORT request designed to return) N
(   all the calendar data in the collection:) N
() N
(   >> Request <<) N
() N
(   REPORT /bernard/work/ HTTP/1.1) N
(   Host: cal.example.com) N
(   Depth: 1) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <C:calendar-query xmlns:D="DAV:") N
(                    xmlns:C="urn:ietf:params:xml:ns:caldav">) N
(    <D:prop>) N
(      <D:getetag/>) N
(      <C:calendar-data/>) N
(    </D:prop>) N
(    <C:filter>) N
(      <C:comp-filter name="VCALENDAR"/>) N
(    </C:filter>) N
(   </C:calendar-query>) N
() N
(   >> Response <<) N
() N
(   HTTP/1.1 207 Multi-Status) N
(   Content-Type: application/xml; charset="utf-8") N
(   Content-Length: xxxx) N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                    [Page 99]) N
() N
(rfc4791.txt) (Page 99/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(   <?xml version="1.0" encoding="utf-8" ?>) N
(   <D:multistatus xmlns:D="DAV:") N
(                 xmlns:C="urn:ietf:params:xml:ns:caldav">) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd1"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001102Z) N
(   DTSTART;TZID=US/Eastern:20060102T100000) N
(   DURATION:PT1H) N
(   SUMMARY:Event #1) N
(   Description:Go Steelers!) N
(   UID:74855313FA803DA593CD579A@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>) N
(       <D:propstat>) N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 100]) N
() N
(rfc4791.txt) (Page 100/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (50/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (101-102) 51
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd2"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060102T120000) N
(   DURATION:PT1H) N
(   RRULE:FREQ=DAILY;COUNT=5) N
(   SUMMARY:Event #2) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   BEGIN:VEVENT) N
(   DTSTAMP:20060206T001121Z) N
(   DTSTART;TZID=US/Eastern:20060104T140000) N
(   DURATION:PT1H) N
(   RECURRENCE-ID;TZID=US/Eastern:20060104T120000) N
(   SUMMARY:Event #2 bis) N
(   UID:00959BC664CA650E933C892C@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>) N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 101]) N
() N
(rfc4791.txt) (Page 101/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd3"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTIMEZONE) N
(   LAST-MODIFIED:20040110T032845Z) N
(   TZID:US/Eastern) N
(   BEGIN:DAYLIGHT) N
(   DTSTART:20000404T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4) N
(   TZNAME:EDT) N
(   TZOFFSETFROM:-0500) N
(   TZOFFSETTO:-0400) N
(   END:DAYLIGHT) N
(   BEGIN:STANDARD) N
(   DTSTART:20001026T020000) N
(   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10) N
(   TZNAME:EST) N
(   TZOFFSETFROM:-0400) N
(   TZOFFSETTO:-0500) N
(   END:STANDARD) N
(   END:VTIMEZONE) N
(   BEGIN:VEVENT) N
(   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com) N
(   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com) N
(   DTSTAMP:20060206T001220Z) N
(   DTSTART;TZID=US/Eastern:20060104T100000) N
(   DURATION:PT1H) N
(   LAST-MODIFIED:20060206T001330Z) N
(   ORGANIZER:mailto:cyrus@example.com) N
(   SEQUENCE:1) N
(   STATUS:TENTATIVE) N
(   SUMMARY:Event #3) N
(   UID:DC6C50A017428C5216A2F1CD@example.com) N
(   END:VEVENT) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 102]) N
() N
(rfc4791.txt) (Page 102/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (51/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (103-104) 52
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(           <D:getetag>"fffff-abcd4"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   DTSTAMP:20060205T235335Z) N
(   DUE;VALUE=DATE:20060104) N
(   STATUS:NEEDS-ACTION) N
(   SUMMARY:Task #1) N
(   UID:DDDEEB7915FA61233B861457@example.com) N
(   BEGIN:VALARM) N
(   ACTION:AUDIO) N
(   TRIGGER;RELATED=START:-PT10M) N
(   END:VALARM) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd5.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd5"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   DTSTAMP:20060205T235300Z) N
(   DUE;VALUE=DATE:20060106) N
(   LAST-MODIFIED:20060205T235308Z) N
(   SEQUENCE:1) N
(   STATUS:NEEDS-ACTION) N
(   SUMMARY:Task #2) N
(   UID:E10BA47467C5C69BB74E8720@example.com) N
(   BEGIN:VALARM) N
(   ACTION:AUDIO) N
(   TRIGGER;RELATED=START:-PT10M) N
(   END:VALARM) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 103]) N
() N
(rfc4791.txt) (Page 103/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd6.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd6"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   COMPLETED:20051223T122322Z) N
(   DTSTAMP:20060205T235400Z) N
(   DUE;VALUE=DATE:20051225) N
(   LAST-MODIFIED:20060205T235308Z) N
(   SEQUENCE:1) N
(   STATUS:COMPLETED) N
(   SUMMARY:Task #3) N
(   UID:E10BA47467C5C69BB74E8722@example.com) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd7.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd7"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VTODO) N
(   DTSTAMP:20060205T235600Z) N
(   DUE;VALUE=DATE:20060101) N
(   LAST-MODIFIED:20060205T235308Z) N
(   SEQUENCE:1) N
(   STATUS:CANCELLED) N
(   SUMMARY:Task #4) N
(   UID:E10BA47467C5C69BB74E8725@example.com) N
(   END:VTODO) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 104]) N
() N
(rfc4791.txt) (Page 104/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (52/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (105-106) 53
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(       </D:propstat>) N
(     </D:response>) N
() N
(     <D:response>) N
(       <D:href>http://cal.example.com/bernard/work/abcd8.ics</D:href>) N
(       <D:propstat>) N
(         <D:prop>) N
(           <D:getetag>"fffff-abcd8"</D:getetag>) N
(           <C:calendar-data>BEGIN:VCALENDAR) N
(   VERSION:2.0) N
(   PRODID:-//Example Corp.//CalDAV Client//EN) N
(   BEGIN:VFREEBUSY) N
(   ORGANIZER;CN="Bernard Desruisseaux":mailto:bernard@example.com) N
(   UID:76ef34-54a3d2@example.com) N
(   DTSTAMP:20050530T123421Z) N
(   DTSTART:20060101T000000Z) N
(   DTEND:20060108T000000Z) N
(   FREEBUSY:20050531T230000Z/20050601T010000Z) N
(   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060102T100000Z/20060102T120000Z) N
(   FREEBUSY:20060103T100000Z/20060103T120000Z) N
(   FREEBUSY:20060104T100000Z/20060104T120000Z) N
(   FREEBUSY;FBTYPE=BUSY-UNAVAILABLE:20060105T100000Z/20060105T120000Z) N
(   FREEBUSY:20060106T100000Z/20060106T120000Z) N
(   END:VFREEBUSY) N
(   END:VCALENDAR) N
(   </C:calendar-data>) N
(         </D:prop>) N
(         <D:status>HTTP/1.1 200 OK</D:status>) N
(       </D:propstat>) N
(     </D:response>) N
() N
(   </D:multistatus>) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 105]) N
() N
(rfc4791.txt) (Page 105/107) (Mar 12, 07 19:51) title
border
/v 1 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(Authors' Addresses) N
() N
(   Cyrus Daboo) N
(   Apple Inc.) N
(   1 Infinite Loop) N
(   Cupertino, CA  95014) N
(   USA) N
() N
(   EMail: cyrus@daboo.name) N
(   URI:   http://www.apple.com/) N
() N
() N
(   Bernard Desruisseaux) N
(   Oracle Corporation) N
(   600 Blvd. de Maisonneuve West) N
(   Suite 1900) N
(   Montreal, QC  H3A 3J2) N
(   CANADA) N
() N
(   EMail: bernard.desruisseaux@oracle.com) N
(   URI:   http://www.oracle.com/) N
() N
() N
(   Lisa Dusseault) N
(   CommerceNet) N
(   169 University Ave.) N
(   Palo Alto, CA  94301) N
(   USA) N
() N
(   EMail: ldusseault@commerce.net) N
(   URI:   http://commerce.net/) N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 106]) N
() N
(rfc4791.txt) (Page 106/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (53/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage
%%Page: (107) 54
%%BeginPageSetup
/pagesave save def
sh 0 translate 90 rotate
%%EndPageSetup
iso1dict begin
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 3.147420 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
(RFC 4791                         CalDAV                       March 2007) p n
() N
() N
(Full Copyright Statement) N
() N
(   Copyright \(C\) The IETF Trust \(2007\).) N
() N
(   This document is subject to the rights, licenses and restrictions) N
(   contained in BCP 78, and except as set forth therein, the authors) N
(   retain all their rights.) N
() N
(   This document and the information contained herein are provided on an) N
(   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS) N
(   OR IS SPONSORED BY \(IF ANY\), THE INTERNET SOCIETY, THE IETF TRUST AND) N
(   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS) N
(   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF) N
(   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED) N
(   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.) N
() N
(Intellectual Property) N
() N
(   The IETF takes no position regarding the validity or scope of any) N
(   Intellectual Property Rights or other rights that might be claimed to) N
(   pertain to the implementation or use of the technology described in) N
(   this document or the extent to which any license under such rights) N
(   might or might not be available; nor does it represent that it has) N
(   made any independent effort to identify any such rights.  Information) N
(   on the procedures with respect to rights in RFC documents can be) N
(   found in BCP 78 and BCP 79.) N
() N
(   Copies of IPR disclosures made to the IETF Secretariat and any) N
(   assurances of licenses to be made available, or the result of an) N
(   attempt made to obtain a general license or permission for the use of) N
(   such proprietary rights by implementers or users of this) N
(   specification can be obtained from the IETF on-line IPR repository at) N
(   http://www.ietf.org/ipr.) N
() N
(   The IETF invites any interested party to bring to its attention any) N
(   copyrights, patents or patent applications, or other proprietary) N
(   rights that may cover technology that may be required to implement) N
(   this standard.  Please address the information to the IETF at) N
(   ietf-ipr@ietf.org.) N
() N
(Acknowledgement) N
() N
(   Funding for the RFC Editor function is currently provided by the) N
(   Internet Society.) N
() N
() N
() N
() N
() N
() N
() N
(Daboo, et al.               Standards Track                   [Page 107]) N
() N
(rfc4791.txt) (Page 107/107) (Mar 12, 07 19:51) title
border
grestore
(Printed by Thomas Cataldo) rhead
(rfc4791.txt) (54/54) (Monday April 06, 2009) footer
end % of iso1dict
pagesave restore
showpage

%%Trailer
end
%%EOF
