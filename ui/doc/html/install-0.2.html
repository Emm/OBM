<HTML>
<BODY BGCOLOR="#FFFFFF">

<a href="javascript:back();">back</a>

<H1>Basic steps to build and install OBM 0.2.x</H1>

<OL>
<LI> Get the source (should be done if you have this file)
<LI> Install MySQL if not on your system.
<LI> Build and Install Apache with PHP3 module activated.
<OL>
   <LI> Build PHP3 with MySQL support (or PostgreSQL)
   <LI> Build Apache with PHP3 module.
</OL>
<LI> Configure apache to process PHP3 files, and test it (with test.php3) !
<LI> Configure PHP (include path in "php3.ini" ...).
<LI> Create the OBM databases
<OL>
   <LI> Create the obm database
   <LI> Create the obm_session_db database
</OL>
<LI> Copy everything in the php directory somewhere in your Web document tree.
<LI> Run OBM (access the obm.php3 from your browser).
</OL>

<H1> Detailed Installation </H1>

Here is a more detailed guideline to install obm.
For mysql, apache and php install parts, if you encounter troubles I suggest
you look into their own documentations.
<P>
We suppose that (as an example, only needed for 5: and 7:)
<BR>the web Document root is /home/web
<BR>the obm root is /home/web/obm


<H2>1: Get the source</H2>
# Would be more difficult without it


<H2>2: Installing MySQL</H2>
# Follow the MySQL documentation

<H2>3: Build and Install Apache with PHP3 module activated</H2>
# Basically the steps are:
<BR># Desarchive in the same directory

<P>gunzip apache_1.3.x.tar.gz
<BR>tar xvf apache_1.3.x.tar
<BR>gunzip php-3.0.x.tar.gz
<BR>tar xvf php-3.0.x.tar
<P>
# A first ./configure of apache seems to be needed
<P>
cd apache_1.3.x
<BR>./configure

<H3>3.1: Build PHP3 with MySQL support (or PostgreSQL)</H3>

cd ../php-3.0.x
<BR>./configure --with-mysql --with-apache=../apache_1.3.x --enable-track-vars
<BR>make
<BR>make install

<H3>3.2: Build and Install Apache</H3>
$ cd ../apache_1.3.x
<BR>$ ./configure --activate-module=src/modules/php3/libphp3.a
<BR>$ make
<BR>$ /usr/local/apache/sbin/apachectl stop
<BR>$ make install

<H2>4: Configure apache to process PHP3 files, and test it (with test.php3) !</H2>

# Edit your httpd.conf or srm.conf file and add:
<BR>AddType application/x-httpd-php3 .php3
<P>
# Restart Apache
<BR>/usr/local/apache/sbin/apachectl restart
<P>
# Open the test.php3 page with netscape


<H2>5: Configure PHP (include path in "php3.ini" ...)</H2>
# Edit the php3.ini file (/usr/local/php3.ini)
<BR># Add the phplib and the working directories in the include path
<BR>include_path = "what_was_here_before:/home/web/obm/phplib:."
<BR># unfill the auto_prepend_file and auto_append_file vars.
<BR>auto_prepend_file = ;
<BR>auto_append_file = ;


<H2>6: Create the OBM database described in create_obmdb.txt</H2>

<H3>6.1: Create the obm database</H3>
# The SQL scripts are in the scripts directory
<P>
# First, create the user web for mysql access to obm database
<BR>mysql -u root mysql    # or with the user who have the rights
<P>
# user web, password web
<BR>insert into user values("localhost","web",password("web"),"Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y","Y");
<P>
# Because of the way the mysql access rights works you may have to remove the
<BR># standard access from localhost
<BR>delete from user where Host="localhost" and Select_priv="N";
<P>
# You have to restart the mysql daemon for the new acces rights to take effect
# or use mysqladmin
<P>
# create the database obm.
<BR># In any SQL editor
<BR>create database obm;
<P>
# Open the file create_obmdb.sql in an SQL editor (GTKSQL,...) and run it.
<BR># You may be forced to create each tables separatedly from an editor.
<BR># The simplest is to execute :
<BR>mysql -u web -pweb obm < create_obm_db.sql
<BR># For french people it would be better to execute
<BR>mysql -u web -pweb obm < create_obm_db_fr.sql
<P>
# restart mysql for the new access rights to be effective;

<H3> 6.2: Create the obm_session_db database</H3>
mysql -u root mysql    # or with the user who have the rights
<P>
# create the database obm_session_db
<BR># In any SQL editor
<BR>create database obm_session_db;
<P>
# create the tables that populate the database
<BR>mysql -u web -pweb obm_session_db < create_obm_session_db.sql


<H2>7: Copy everything in the php directory somewhere in your Web document tree</H2>
# you must have write permissions on the web directory
<BR># we suppose you are in the obm directory
<P>
cp -r ./php/* /home/web/obm


<H2>8: Run OBM (access the obm.php3 from your browser)</H2>
# First restart your apache web server

<P>/usr/local/apache/sbin/apachectl restart

<P># If all goes well run netscape and launch the url
<BR>yourserver/obm/obm.php3

<a href="javascript:back();">back</a>

</BODY>
</HTML>